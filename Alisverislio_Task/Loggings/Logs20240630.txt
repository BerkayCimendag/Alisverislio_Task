2024-06-30 00:11:27.235 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:11:27.266 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:11:27.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:11:27.268 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:11:27.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:11:27.282 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:11:27.318 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:11:27.319 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:11:27.320 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:11:27.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:11:27.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:11:27.326 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:14:43.194 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:14:43.221 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:14:43.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:14:43.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:14:43.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:14:43.236 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:14:43.271 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:14:43.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:14:43.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:14:43.274 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:14:43.275 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:14:43.279 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:18:48.165 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:18:48.196 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:18:48.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:18:48.197 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:18:48.205 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:18:48.212 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:18:48.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:18:48.248 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:18:48.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:18:48.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:18:48.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:18:48.255 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:22:17.566 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:22:17.595 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:22:17.597 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:22:17.597 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:22:17.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:22:17.611 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:22:17.649 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:22:17.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:22:17.651 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:22:17.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:22:17.653 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:22:17.657 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:34:12.871 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:34:12.900 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:34:12.903 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:34:12.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:34:12.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:34:12.918 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:34:12.955 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:34:12.957 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:34:12.958 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:34:12.959 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:34:12.960 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:34:12.964 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:35:39.730 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:35:39.759 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:35:39.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:35:39.761 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:35:39.768 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:35:39.775 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:35:39.811 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:35:39.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:35:39.813 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:35:39.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:35:39.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:35:39.819 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:38:50.231 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:38:50.262 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:38:50.263 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:38:50.264 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:38:50.271 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:38:50.278 +03:00 [INF] Applying migration '20240629202407_init'.
2024-06-30 00:38:50.314 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:38:50.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:38:50.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:38:50.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:38:50.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:38:50.322 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:42:32.558 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:42:32.585 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:42:32.586 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:42:32.587 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:42:32.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:42:32.599 +03:00 [INF] Applying migration '20240629214118_init'.
2024-06-30 00:42:32.634 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:42:32.635 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:42:32.636 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:42:32.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:42:32.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:42:32.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2024-06-30 00:42:32.654 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email', N'Name', N'Password', N'Role', N'Surname', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Email], [Name], [Password], [Role], [Surname], [Username])
VALUES (1, N'a', N'Admin', N'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad', 1, N'User', N'admin');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email', N'Name', N'Password', N'Role', N'Surname', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2024-06-30 00:42:32.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Books_LocationId] ON [Books] ([LocationId]);
2024-06-30 00:42:32.702 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_BookId] ON [Notes] ([BookId]);
2024-06-30 00:42:32.702 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_UserId] ON [Notes] ([UserId]);
2024-06-30 00:42:32.703 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Purchases_BookId] ON [Purchases] ([BookId]);
2024-06-30 00:42:32.703 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Purchases_UserId] ON [Purchases] ([UserId]);
2024-06-30 00:42:32.704 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Shares_NoteId] ON [Shares] ([NoteId]);
2024-06-30 00:42:32.704 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Shares_UserId] ON [Shares] ([UserId]);
2024-06-30 00:42:32.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629214118_init', N'8.0.6');
2024-06-30 00:44:34.961 +03:00 [INF] Executed DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KitaplikArsivSatisDB];
2024-06-30 00:44:35.019 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KitaplikArsivSatisDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-06-30 00:44:35.028 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:44:35.057 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-06-30 00:44:35.058 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:44:35.064 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:44:35.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:44:35.073 +03:00 [INF] Applying migration '20240629214430_init'.
2024-06-30 00:44:35.101 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:44:35.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:44:35.103 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:44:35.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:44:35.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:44:35.109 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:45:21.323 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:45:21.352 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:45:21.353 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-30 00:45:21.353 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-30 00:45:21.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-30 00:45:21.367 +03:00 [INF] Applying migration '20240629214516_init'.
2024-06-30 00:45:21.405 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [Id] int NOT NULL IDENTITY,
    [Shelf] nvarchar(max) NOT NULL,
    [Aisle] nvarchar(max) NOT NULL,
    [Floor] nvarchar(max) NOT NULL,
    [Section] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([Id])
);
2024-06-30 00:45:21.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Surname] nvarchar(max) NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-06-30 00:45:21.407 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Author] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ISBN] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [ImageUrl] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:45:21.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] int NOT NULL IDENTITY,
    [Content] nvarchar(max) NOT NULL,
    [Visibility] int NOT NULL,
    [BookId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:45:21.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Purchases] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [BookId] int NOT NULL,
    CONSTRAINT [PK_Purchases] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Purchases_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Purchases_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2024-06-30 00:45:21.409 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shares] (
    [Id] int NOT NULL IDENTITY,
    [NoteId] int NOT NULL,
    [UserId] int NOT NULL,
    [Visibility] int NOT NULL,
    CONSTRAINT [PK_Shares] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Shares_Notes_NoteId] FOREIGN KEY ([NoteId]) REFERENCES [Notes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Shares_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2024-06-30 00:45:21.419 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email', N'Name', N'Password', N'Role', N'Surname', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Email], [Name], [Password], [Role], [Surname], [Username])
VALUES (1, N'a', N'Admin', N'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad', 1, N'User', N'admin');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email', N'Name', N'Password', N'Role', N'Surname', N'Username') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
2024-06-30 00:45:21.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Books_LocationId] ON [Books] ([LocationId]);
2024-06-30 00:45:21.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_BookId] ON [Notes] ([BookId]);
2024-06-30 00:45:21.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_UserId] ON [Notes] ([UserId]);
2024-06-30 00:45:21.421 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Purchases_BookId] ON [Purchases] ([BookId]);
2024-06-30 00:45:21.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Purchases_UserId] ON [Purchases] ([UserId]);
2024-06-30 00:45:21.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Shares_NoteId] ON [Shares] ([NoteId]);
2024-06-30 00:45:21.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Shares_UserId] ON [Shares] ([UserId]);
2024-06-30 00:45:21.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629214516_init', N'8.0.6');
2024-06-30 00:50:54.857 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 00:50:54.997 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 00:50:54.999 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 00:50:55.028 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 00:50:55.029 +03:00 [INF] Hosting environment: Development
2024-06-30 00:50:55.030 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 00:50:55.395 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 00:50:55.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 151.1ms
2024-06-30 00:50:55.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 00:50:55.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 00:50:55.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.5646ms
2024-06-30 00:50:55.678 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1998ms
2024-06-30 00:50:55.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 00:50:55.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.5101ms
2024-06-30 00:51:04.120 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 42
2024-06-30 00:51:04.132 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:51:04.152 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 00:51:05.487 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 00:51:05.516 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 00:51:05.522 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1364.4711ms
2024-06-30 00:51:05.525 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:51:05.531 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 401 null text/plain; charset=utf-8 1411.8538ms
2024-06-30 00:54:37.057 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 00:54:37.229 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 00:54:37.230 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 00:54:37.263 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 00:54:37.264 +03:00 [INF] Hosting environment: Development
2024-06-30 00:54:37.265 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 00:54:38.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 00:54:38.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.3223ms
2024-06-30 00:54:38.438 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 00:54:38.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.0638ms
2024-06-30 00:54:38.496 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 00:54:38.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2684ms
2024-06-30 00:54:38.550 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 00:54:38.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.8863ms
2024-06-30 00:54:59.476 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 00:54:59.491 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:54:59.510 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 00:55:11.231 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 00:55:15.961 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 16445.1707ms
2024-06-30 00:55:15.964 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:55:16.001 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '184' bits. (Parameter 'keyBytes')","StackTrace":"   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)\r\n   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)\r\n   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()\r\n   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()\r\n   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()\r\n   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)\r\n   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)\r\n   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(User user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 87\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 61\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T21:55:16.0013312Z","$type":"ErrorDetails"}
2024-06-30 00:55:16.067 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 16591.8922ms
2024-06-30 00:55:32.701 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 00:55:32.848 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 00:55:32.849 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 00:55:32.880 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 00:55:32.881 +03:00 [INF] Hosting environment: Development
2024-06-30 00:55:32.882 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 00:55:33.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 00:55:33.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 145.2488ms
2024-06-30 00:55:33.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 00:55:33.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 00:55:33.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.159ms
2024-06-30 00:55:33.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.1548ms
2024-06-30 00:55:33.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 00:55:33.749 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.9776ms
2024-06-30 00:55:55.775 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 00:55:55.934 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 00:55:55.935 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 00:55:55.962 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 00:55:55.963 +03:00 [INF] Hosting environment: Development
2024-06-30 00:55:55.964 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 00:55:56.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 00:55:57.027 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.1024ms
2024-06-30 00:55:57.029 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 00:55:57.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.1202ms
2024-06-30 00:55:57.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 00:55:57.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.4222ms
2024-06-30 00:55:57.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 00:55:57.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.4581ms
2024-06-30 00:56:07.558 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 00:56:07.571 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:56:07.594 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 00:56:08.873 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 00:56:09.044 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1442.826ms
2024-06-30 00:56:09.046 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:56:09.131 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nUser -> UserDto\r\nAlisverislio_Task.DAL.Entities.User -> Alisverislio_Task.BLL.Dtos.UserDto","StackTrace":"   at lambda_method94(Closure, Object, UserDto, ResolutionContext)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 62\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T21:56:09.1307002Z","$type":"ErrorDetails"}
2024-06-30 00:56:09.228 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 1670.3208ms
2024-06-30 00:56:56.852 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 00:56:56.986 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 00:56:56.988 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 00:56:57.012 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 00:56:57.013 +03:00 [INF] Hosting environment: Development
2024-06-30 00:56:57.016 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 00:56:57.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 00:56:57.604 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.5144ms
2024-06-30 00:56:57.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 00:56:57.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 00:56:57.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.3596ms
2024-06-30 00:56:57.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.1403ms
2024-06-30 00:56:57.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 00:56:57.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.8167ms
2024-06-30 00:57:09.294 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 00:57:09.307 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:57:09.327 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 00:57:13.043 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 00:57:19.229 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 9898.6521ms
2024-06-30 00:57:19.231 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:57:19.267 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nUser -> UserDto\r\nAlisverislio_Task.DAL.Entities.User -> Alisverislio_Task.BLL.Dtos.UserDto","StackTrace":"   at lambda_method94(Closure, Object, UserDto, ResolutionContext)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 62\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T21:57:19.2666384Z","$type":"ErrorDetails"}
2024-06-30 00:57:19.335 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 10040.6321ms
2024-06-30 00:58:10.509 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 00:58:10.633 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 00:58:10.635 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 00:58:10.659 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 00:58:10.660 +03:00 [INF] Hosting environment: Development
2024-06-30 00:58:10.662 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 00:58:11.246 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 00:58:11.386 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.9108ms
2024-06-30 00:58:11.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 00:58:11.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 00:58:11.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.4367ms
2024-06-30 00:58:11.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.9364ms
2024-06-30 00:58:11.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 00:58:11.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.0259ms
2024-06-30 00:58:20.818 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 00:58:20.830 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:58:20.851 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 00:58:24.436 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 00:58:35.768 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 14913.5446ms
2024-06-30 00:58:35.770 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 00:58:35.808 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nUser -> UserDto\r\nAlisverislio_Task.DAL.Entities.User -> Alisverislio_Task.BLL.Dtos.UserDto","StackTrace":"   at lambda_method94(Closure, Object, UserDto, ResolutionContext)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 62\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T21:58:35.8075726Z","$type":"ErrorDetails"}
2024-06-30 00:58:35.881 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 15063.9427ms
2024-06-30 01:02:24.666 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:02:24.800 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:02:24.801 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:02:24.826 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:02:24.827 +03:00 [INF] Hosting environment: Development
2024-06-30 01:02:24.828 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:02:25.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:02:25.609 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.2183ms
2024-06-30 01:02:25.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:02:25.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:02:25.678 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.5218ms
2024-06-30 01:02:25.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.6335ms
2024-06-30 01:02:25.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:02:25.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.6754ms
2024-06-30 01:02:34.409 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 01:02:34.420 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:02:34.440 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:02:37.678 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 01:02:39.156 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 4712.0778ms
2024-06-30 01:02:39.158 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:02:39.197 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nUser -> UserDto\r\nAlisverislio_Task.DAL.Entities.User -> Alisverislio_Task.BLL.Dtos.UserDto","StackTrace":"   at lambda_method94(Closure, Object, UserDto, ResolutionContext)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 62\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:02:39.1974100Z","$type":"ErrorDetails"}
2024-06-30 01:02:39.276 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 4867.4177ms
2024-06-30 01:04:31.002 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:04:31.144 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:04:31.145 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:04:31.169 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:04:31.170 +03:00 [INF] Hosting environment: Development
2024-06-30 01:04:31.171 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:04:31.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:04:31.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.287ms
2024-06-30 01:04:31.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:04:31.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:04:31.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 17.8673ms
2024-06-30 01:04:31.794 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.4875ms
2024-06-30 01:04:31.859 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:04:31.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.8479ms
2024-06-30 01:07:24.882 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:07:25.032 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:07:25.033 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:07:25.064 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:07:25.065 +03:00 [INF] Hosting environment: Development
2024-06-30 01:07:25.066 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:07:25.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:07:25.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 149.5392ms
2024-06-30 01:07:25.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:07:25.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:07:25.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.9061ms
2024-06-30 01:07:26.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7832ms
2024-06-30 01:07:26.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:07:26.088 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.6493ms
2024-06-30 01:07:35.209 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 01:07:35.221 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:07:35.240 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:07:38.818 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 01:07:38.965 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 3717.9147ms
2024-06-30 01:07:38.967 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:07:39.036 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nUser -> UserDto\r\nAlisverislio_Task.DAL.Entities.User -> Alisverislio_Task.BLL.Dtos.UserDto","StackTrace":"   at lambda_method94(Closure, Object, UserDto, ResolutionContext)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 62\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:07:39.0357783Z","$type":"ErrorDetails"}
2024-06-30 01:07:39.132 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 3923.587ms
2024-06-30 01:08:24.835 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:08:24.984 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:08:24.985 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:08:25.014 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:08:25.016 +03:00 [INF] Hosting environment: Development
2024-06-30 01:08:25.023 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:08:25.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:08:25.419 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 142.9737ms
2024-06-30 01:08:25.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:08:25.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:08:25.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.1076ms
2024-06-30 01:08:25.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4088ms
2024-06-30 01:08:25.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:08:25.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.1361ms
2024-06-30 01:08:34.036 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 01:08:34.048 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:08:34.067 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:08:37.327 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 01:08:43.599 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 01:08:43.629 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 9555.3137ms
2024-06-30 01:08:43.632 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:08:47.558 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 13521.3183ms
2024-06-30 01:10:13.876 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryYutTOFImJ1ijf0Lb 9493
2024-06-30 01:10:13.898 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:10:13.901 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:10:13.903 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 28.0989ms
2024-06-30 01:12:48.389 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:12:48.520 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:12:48.521 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:12:48.553 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:12:48.554 +03:00 [INF] Hosting environment: Development
2024-06-30 01:12:48.555 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:12:48.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:12:48.892 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.5508ms
2024-06-30 01:12:48.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:12:48.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:12:48.959 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.5169ms
2024-06-30 01:12:48.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.6829ms
2024-06-30 01:12:49.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:12:49.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6915ms
2024-06-30 01:12:58.628 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 01:12:58.639 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:12:58.659 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:13:02.494 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 01:13:02.586 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 01:13:02.592 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 3927.8344ms
2024-06-30 01:13:02.595 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:13:02.602 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 3973.1535ms
2024-06-30 01:13:30.639 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryD2uC4prGs9wBqS1G 9477
2024-06-30 01:13:30.654 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:13:30.659 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:13:30.661 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 22.3486ms
2024-06-30 01:16:18.416 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:16:18.547 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:16:18.548 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:16:18.573 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:16:18.574 +03:00 [INF] Hosting environment: Development
2024-06-30 01:16:18.575 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:16:18.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:16:19.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.6314ms
2024-06-30 01:16:19.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:16:19.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.442ms
2024-06-30 01:16:19.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:16:19.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0303ms
2024-06-30 01:16:19.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:16:19.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.9996ms
2024-06-30 01:16:30.463 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 01:16:30.476 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:16:30.496 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:16:31.811 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 01:16:31.904 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 01:16:31.912 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1412.3246ms
2024-06-30 01:16:31.913 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:16:31.920 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1456.9733ms
2024-06-30 01:22:46.772 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=--------------------------459483869268008587234273 9559
2024-06-30 01:22:46.814 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:22:46.824 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:22:46.857 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-30 01:22:46.865 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 37.8003ms
2024-06-30 01:22:46.867 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:22:46.868 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Book/add - 400 null application/problem+json; charset=utf-8 95.8779ms
2024-06-30 01:28:55.629 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:28:55.762 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:28:55.763 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:28:55.788 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:28:55.789 +03:00 [INF] Hosting environment: Development
2024-06-30 01:28:55.790 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:28:56.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:28:56.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 134.7643ms
2024-06-30 01:28:56.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:28:56.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:28:56.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.4567ms
2024-06-30 01:28:56.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.8336ms
2024-06-30 01:28:56.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:28:56.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.289ms
2024-06-30 01:29:37.197 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:29:37.339 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:29:37.340 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:29:37.367 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:29:37.368 +03:00 [INF] Hosting environment: Development
2024-06-30 01:29:37.369 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:29:37.939 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:29:38.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 140.3091ms
2024-06-30 01:29:38.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:29:38.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.797ms
2024-06-30 01:29:38.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:29:38.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.84ms
2024-06-30 01:29:38.193 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:29:38.251 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.6707ms
2024-06-30 01:30:04.599 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Location/add - application/json 83
2024-06-30 01:30:04.617 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:30:04.621 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:30:04.623 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Location/add - 401 0 null 24.5616ms
2024-06-30 01:30:37.513 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/location/add - application/json 89
2024-06-30 01:30:37.570 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.LocationController.AddLocation (Alisverislio_Task)'
2024-06-30 01:30:37.590 +03:00 [INF] Route matched with {action = "AddLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLocation(Alisverislio_Task.BLL.Dtos.LocationDto) on controller Alisverislio_Task.Controllers.LocationController (Alisverislio_Task).
2024-06-30 01:30:37.600 +03:00 [INF] Executed action Alisverislio_Task.Controllers.LocationController.AddLocation (Alisverislio_Task) in 3.6451ms
2024-06-30 01:30:37.603 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.LocationController.AddLocation (Alisverislio_Task)'
2024-06-30 01:30:37.669 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Unable to resolve service for type 'Alisverislio_Task.BLL.AbstractServices.ILocationService' while attempting to activate 'Alisverislio_Task.Controllers.LocationController'.","StackTrace":"   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:30:37.6687128Z","$type":"ErrorDetails"}
2024-06-30 01:30:37.752 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/location/add - 500 null application/json 239.1546ms
2024-06-30 01:31:09.455 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:31:09.585 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:31:09.586 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:31:09.609 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:31:09.610 +03:00 [INF] Hosting environment: Development
2024-06-30 01:31:09.611 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:31:10.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:31:10.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.0872ms
2024-06-30 01:31:10.514 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:31:10.514 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:31:10.521 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.3018ms
2024-06-30 01:31:10.543 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4339ms
2024-06-30 01:31:10.568 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:31:10.627 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.5537ms
2024-06-30 01:31:22.060 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/location/add - application/json 89
2024-06-30 01:31:22.120 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.LocationController.AddLocation (Alisverislio_Task)'
2024-06-30 01:31:22.140 +03:00 [INF] Route matched with {action = "AddLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLocation(Alisverislio_Task.BLL.Dtos.LocationDto) on controller Alisverislio_Task.Controllers.LocationController (Alisverislio_Task).
2024-06-30 01:31:23.350 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Locations] ([Aisle], [Floor], [Section], [Shelf])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-06-30 01:31:23.397 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.LocationDto'.
2024-06-30 01:31:23.406 +03:00 [INF] Executed action Alisverislio_Task.Controllers.LocationController.AddLocation (Alisverislio_Task) in 1259.8816ms
2024-06-30 01:31:23.407 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.LocationController.AddLocation (Alisverislio_Task)'
2024-06-30 01:31:23.414 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/location/add - 200 null application/json; charset=utf-8 1353.3981ms
2024-06-30 01:31:59.858 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundarylNNPIvaatDmPx6J9 8978
2024-06-30 01:31:59.865 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:31:59.869 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:31:59.871 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 13.6724ms
2024-06-30 01:32:37.128 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=--------------------------252476228403035583566623 9450
2024-06-30 01:32:37.139 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:32:37.148 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:32:37.172 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-30 01:32:37.186 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 34.5158ms
2024-06-30 01:32:37.189 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:32:37.192 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Book/add - 400 null application/problem+json; charset=utf-8 63.833ms
2024-06-30 01:32:43.416 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=--------------------------101676281035607665638308 9452
2024-06-30 01:32:43.420 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:32:43.422 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:32:43.508 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Description], [ISBN], [ImageUrl], [LocationId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 01:32:43.513 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.BookDto'.
2024-06-30 01:32:43.515 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 90.7162ms
2024-06-30 01:32:43.516 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:32:43.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Book/add - 200 null application/json; charset=utf-8 102.1106ms
2024-06-30 01:33:32.575 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:33:32.727 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:33:32.728 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:33:32.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:33:32.767 +03:00 [INF] Hosting environment: Development
2024-06-30 01:33:32.768 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:33:33.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:33:33.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 146.3548ms
2024-06-30 01:33:33.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:33:33.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.4965ms
2024-06-30 01:33:33.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:33:33.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.675ms
2024-06-30 01:33:33.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:33:33.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.1314ms
2024-06-30 01:34:27.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Book/filterBooksByLocation?shelf=12 - null null
2024-06-30 01:34:27.705 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.FilterBooksByLocation (Alisverislio_Task)'
2024-06-30 01:34:27.725 +03:00 [INF] Route matched with {action = "FilterBooksByLocation", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterBooksByLocation(System.String, System.String, System.String, System.String) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:34:27.933 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-30 01:34:27.948 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.FilterBooksByLocation (Alisverislio_Task) in 217.0698ms
2024-06-30 01:34:27.950 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.FilterBooksByLocation (Alisverislio_Task)'
2024-06-30 01:34:27.953 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Book/filterBooksByLocation?shelf=12 - 400 null application/problem+json; charset=utf-8 268.5975ms
2024-06-30 01:34:34.559 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Book/filterBooksByLocation?shelf=12&aisle=12&floor=12&section=12 - null null
2024-06-30 01:34:34.564 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.FilterBooksByLocation (Alisverislio_Task)'
2024-06-30 01:34:34.566 +03:00 [INF] Route matched with {action = "FilterBooksByLocation", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterBooksByLocation(System.String, System.String, System.String, System.String) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:34:35.694 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__shelf_0_contains='?' (Size = 4000), @__aisle_1_contains='?' (Size = 4000), @__floor_2_contains='?' (Size = 4000), @__section_3_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title], [l].[Id], [l].[Aisle], [l].[Floor], [l].[Section], [l].[Shelf]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
WHERE [l].[Shelf] LIKE @__shelf_0_contains ESCAPE N'\' AND [l].[Aisle] LIKE @__aisle_1_contains ESCAPE N'\' AND [l].[Floor] LIKE @__floor_2_contains ESCAPE N'\' AND [l].[Section] LIKE @__section_3_contains ESCAPE N'\'
2024-06-30 01:34:35.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.BookDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 01:34:35.791 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.FilterBooksByLocation (Alisverislio_Task) in 1222.292ms
2024-06-30 01:34:35.794 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.FilterBooksByLocation (Alisverislio_Task)'
2024-06-30 01:34:35.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Book/filterBooksByLocation?shelf=12&aisle=12&floor=12&section=12 - 200 null application/json; charset=utf-8 1238.3607ms
2024-06-30 01:34:54.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Book/search?searchTerm=as - null null
2024-06-30 01:34:54.272 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.SearchBooks (Alisverislio_Task)'
2024-06-30 01:34:54.277 +03:00 [INF] Route matched with {action = "SearchBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooks(System.String) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:34:54.306 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__searchTerm_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Title] LIKE @__searchTerm_0_contains ESCAPE N'\' OR [b].[Author] LIKE @__searchTerm_0_contains ESCAPE N'\'
2024-06-30 01:34:54.310 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.BookDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 01:34:54.313 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.SearchBooks (Alisverislio_Task) in 33.0761ms
2024-06-30 01:34:54.317 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.SearchBooks (Alisverislio_Task)'
2024-06-30 01:34:54.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Book/search?searchTerm=as - 200 null application/json; charset=utf-8 50.7695ms
2024-06-30 01:35:15.978 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryZIUcOBhPSaM8rn8S 8970
2024-06-30 01:35:15.986 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:35:15.991 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:35:15.993 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 15.7559ms
2024-06-30 01:35:21.755 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryI1hT7LBaPZ1eoXkp 8971
2024-06-30 01:35:21.759 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:35:21.761 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:35:21.762 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 7.6401ms
2024-06-30 01:35:31.726 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundary9EfnmItDRCvo8WlM 8971
2024-06-30 01:35:31.729 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:35:31.730 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:35:31.732 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 6.1354ms
2024-06-30 01:37:07.755 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:37:07.892 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:37:07.893 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:37:07.915 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:37:07.916 +03:00 [INF] Hosting environment: Development
2024-06-30 01:37:07.917 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:37:08.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:37:08.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.32ms
2024-06-30 01:37:08.482 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:37:08.482 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:37:08.506 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 23.3255ms
2024-06-30 01:37:08.521 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.6355ms
2024-06-30 01:37:08.575 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:37:08.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.5942ms
2024-06-30 01:37:30.097 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryMeBwcqSZjN2IKknY 8973
2024-06-30 01:37:30.111 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 01:37:30.115 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 01:37:30.117 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 401 0 null 22.7363ms
2024-06-30 01:37:52.138 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=--------------------------229554375102819759874868 8990
2024-06-30 01:37:52.194 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:37:52.218 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:37:53.524 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Description], [ISBN], [ImageUrl], [LocationId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 01:37:53.571 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.BookDto'.
2024-06-30 01:37:53.580 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 1356.7561ms
2024-06-30 01:37:53.582 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:37:53.588 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Book/add - 200 null application/json; charset=utf-8 1449.9666ms
2024-06-30 01:40:27.565 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:40:27.732 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:40:27.733 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:40:27.756 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:40:27.757 +03:00 [INF] Hosting environment: Development
2024-06-30 01:40:27.758 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:40:28.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:40:28.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 147.3508ms
2024-06-30 01:40:28.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:40:28.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:40:28.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 27.807ms
2024-06-30 01:40:28.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7487ms
2024-06-30 01:40:28.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:40:28.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.2144ms
2024-06-30 01:40:57.201 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryZwxpgPi88w9VaaoG 8977
2024-06-30 01:40:57.269 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:40:57.290 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:40:57.512 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-30 01:40:57.526 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 230.4116ms
2024-06-30 01:40:57.528 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:40:57.531 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 400 null application/problem+json; charset=utf-8 330.477ms
2024-06-30 01:41:03.243 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryvsJbgAjQyGX5Uv30 8978
2024-06-30 01:41:03.249 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:41:03.251 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:41:03.260 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-30 01:41:03.263 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 9.5975ms
2024-06-30 01:41:03.265 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:41:03.267 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 400 null application/problem+json; charset=utf-8 23.9753ms
2024-06-30 01:41:11.805 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryCLeAEgFpuFyZFyMi 8889
2024-06-30 01:41:11.809 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:41:11.810 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:41:12.877 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Description], [ISBN], [ImageUrl], [LocationId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 01:41:12.920 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.BookDto'.
2024-06-30 01:41:12.924 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 1112.1315ms
2024-06-30 01:41:12.925 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 01:41:12.931 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 200 null application/json; charset=utf-8 1126.0905ms
2024-06-30 01:45:41.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/usernotes - null null
2024-06-30 01:45:41.561 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 01:45:41.567 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 01:45:41.627 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 58.6001ms
2024-06-30 01:45:41.630 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 01:45:41.663 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The input string 'admin' was not in a correct format.","StackTrace":"   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)\r\n   at System.Int32.Parse(String s)\r\n   at Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 81\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:45:41.6632192Z","$type":"ErrorDetails"}
2024-06-30 01:45:41.750 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/usernotes - 500 null application/json 195.6061ms
2024-06-30 01:46:11.568 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Book/update/1 - application/json 146
2024-06-30 01:46:11.575 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:46:11.579 +03:00 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, Alisverislio_Task.BLL.Dtos.BookDto) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:46:11.856 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-30 01:46:11.930 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task) in 347.9354ms
2024-06-30 01:46:11.931 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:46:11.990 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'Book.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.BookService.UpdateBookAsync(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\BookService.cs:line 63\r\n   at Alisverislio_Task.Controllers.BookController.UpdateBook(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\BookController.cs:line 35\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:46:11.9904525Z","$type":"ErrorDetails"}
2024-06-30 01:46:11.998 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Book/update/1 - 500 null application/json 429.5446ms
2024-06-30 01:46:27.535 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Book/update/1 - application/json 146
2024-06-30 01:46:27.538 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:46:27.539 +03:00 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, Alisverislio_Task.BLL.Dtos.BookDto) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:46:27.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-30 01:46:27.571 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [Description] = @p1, [ISBN] = @p2, [ImageUrl] = @p3, [LocationId] = @p4, [Title] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 01:46:27.587 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Books_Locations_LocationId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Locations", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:31aa116e-8117-485e-810a-920ed3a6bd9a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Books_Locations_LocationId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Locations", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:31aa116e-8117-485e-810a-920ed3a6bd9a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 01:46:27.697 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task) in 155.9796ms
2024-06-30 01:46:27.698 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:46:27.747 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.BookService.UpdateBookAsync(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\BookService.cs:line 63\r\n   at Alisverislio_Task.Controllers.BookController.UpdateBook(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\BookController.cs:line 35\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:46:27.7476876Z","$type":"ErrorDetails"}
2024-06-30 01:46:27.759 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Book/update/1 - 500 null application/json 223.7454ms
2024-06-30 01:47:30.210 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:47:30.386 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:47:30.387 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:47:30.415 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:47:30.416 +03:00 [INF] Hosting environment: Development
2024-06-30 01:47:30.417 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:47:31.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:47:31.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 148.5788ms
2024-06-30 01:47:31.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:47:31.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:47:31.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.4437ms
2024-06-30 01:47:31.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.0334ms
2024-06-30 01:47:31.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:47:31.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6426ms
2024-06-30 01:48:00.009 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Book/update/1 - application/json 146
2024-06-30 01:48:00.080 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:48:00.101 +03:00 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, Alisverislio_Task.BLL.Dtos.BookDto) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:48:05.908 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-30 01:48:17.040 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [Description] = @p1, [ISBN] = @p2, [ImageUrl] = @p3, [LocationId] = @p4, [Title] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 01:48:17.072 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Books_Locations_LocationId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Locations", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e8085297-8f2f-435b-833e-f82acd8d59a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Books_Locations_LocationId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Locations", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e8085297-8f2f-435b-833e-f82acd8d59a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 01:48:17.153 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task) in 17048.3707ms
2024-06-30 01:48:17.154 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:48:17.187 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.BookService.UpdateBookAsync(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\BookService.cs:line 63\r\n   at Alisverislio_Task.Controllers.BookController.UpdateBook(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\BookController.cs:line 35\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:48:17.1869754Z","$type":"ErrorDetails"}
2024-06-30 01:48:17.301 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Book/update/1 - 500 null application/json 17292.9184ms
2024-06-30 01:52:30.428 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:52:30.578 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:52:30.578 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:52:30.603 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:52:30.603 +03:00 [INF] Hosting environment: Development
2024-06-30 01:52:30.604 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:52:31.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:52:31.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 157.6098ms
2024-06-30 01:52:31.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:52:31.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.6588ms
2024-06-30 01:52:31.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:52:31.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8933ms
2024-06-30 01:52:31.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:52:31.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.5811ms
2024-06-30 01:52:52.457 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Book/update/1 - application/json 146
2024-06-30 01:52:52.496 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:52:52.508 +03:00 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, Alisverislio_Task.BLL.Dtos.BookDto) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:52:57.262 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-30 01:52:59.444 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task) in 6931.5243ms
2024-06-30 01:52:59.446 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:52:59.480 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'Book.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.BookService.UpdateBookAsync(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\BookService.cs:line 63\r\n   at Alisverislio_Task.Controllers.BookController.UpdateBook(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\BookController.cs:line 35\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:52:59.4798340Z","$type":"ErrorDetails"}
2024-06-30 01:52:59.536 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Book/update/1 - 500 null application/json 7079.9393ms
2024-06-30 01:55:31.913 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 01:55:32.041 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 01:55:32.043 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 01:55:32.063 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 01:55:32.064 +03:00 [INF] Hosting environment: Development
2024-06-30 01:55:32.066 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 01:55:32.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 01:55:32.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.683ms
2024-06-30 01:55:32.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 01:55:32.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 01:55:32.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 17.2964ms
2024-06-30 01:55:32.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7947ms
2024-06-30 01:55:32.804 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 01:55:32.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.1258ms
2024-06-30 01:55:47.660 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Book/update/1 - application/json 146
2024-06-30 01:55:47.724 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:55:47.746 +03:00 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, Alisverislio_Task.BLL.Dtos.BookDto) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:55:51.349 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-30 01:55:55.721 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Aisle], [l].[Floor], [l].[Section], [l].[Shelf]
FROM [Locations] AS [l]
WHERE [l].[Id] = @__p_0
2024-06-30 01:56:03.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [Description] = @p1, [ISBN] = @p2, [ImageUrl] = @p3, [LocationId] = @p4, [Title] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 01:56:03.897 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Books_Locations_LocationId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Locations", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d26238eb-7927-45fc-b21c-4cc6ac37b3e5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Books_Locations_LocationId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Locations", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d26238eb-7927-45fc-b21c-4cc6ac37b3e5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 01:56:03.980 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task) in 16229.0383ms
2024-06-30 01:56:03.983 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:56:04.019 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.BookService.UpdateBookAsync(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\BookService.cs:line 79\r\n   at Alisverislio_Task.Controllers.BookController.UpdateBook(Int32 id, BookDto bookDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\BookController.cs:line 35\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:56:04.0187135Z","$type":"ErrorDetails"}
2024-06-30 01:56:04.116 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Book/update/1 - 500 null application/json 16456.5819ms
2024-06-30 01:56:19.557 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Book/update/1 - application/json 144
2024-06-30 01:56:19.566 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:56:19.567 +03:00 [INF] Route matched with {action = "UpdateBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(Int32, Alisverislio_Task.BLL.Dtos.BookDto) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 01:56:21.357 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Author], [b].[Description], [b].[ISBN], [b].[ImageUrl], [b].[LocationId], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-30 01:56:24.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Aisle], [l].[Floor], [l].[Section], [l].[Shelf]
FROM [Locations] AS [l]
WHERE [l].[Id] = @__p_0
2024-06-30 01:56:27.591 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Author] = @p0, [Description] = @p1, [ISBN] = @p2, [ImageUrl] = @p3, [LocationId] = @p4, [Title] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 01:56:31.208 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.BookDto'.
2024-06-30 01:56:31.212 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task) in 11641.8825ms
2024-06-30 01:56:31.214 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.UpdateBook (Alisverislio_Task)'
2024-06-30 01:56:31.215 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Book/update/1 - 200 null application/json; charset=utf-8 11657.6817ms
2024-06-30 01:57:45.506 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 01:57:45.512 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:57:45.517 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 01:57:45.550 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 30.3007ms
2024-06-30 01:57:45.552 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:57:45.570 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The input string 'admin' was not in a correct format.","StackTrace":"   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)\r\n   at System.Int32.Parse(String s)\r\n   at Alisverislio_Task.Controllers.NoteController.AddNoteAsync(NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 26\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:57:45.5701013Z","$type":"ErrorDetails"}
2024-06-30 01:57:45.584 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 500 null application/json 81.4285ms
2024-06-30 01:58:03.975 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 01:58:03.978 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:58:03.979 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 01:58:07.001 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 3019.4911ms
2024-06-30 01:58:07.006 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:58:13.312 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The input string 'admin' was not in a correct format.","StackTrace":"   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)\r\n   at System.Int32.Parse(String s)\r\n   at Alisverislio_Task.Controllers.NoteController.AddNoteAsync(NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 26\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:58:13.3126871Z","$type":"ErrorDetails"}
2024-06-30 01:58:13.320 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 500 null application/json 9345.611ms
2024-06-30 01:58:30.344 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 120
2024-06-30 01:58:30.350 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 01:58:30.355 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:58:30.411 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userDto_Username_0='?' (Size = 4000), @__userDto_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Username] = @__userDto_Username_0 OR [u].[Email] = @__userDto_Email_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-30 01:58:30.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role], [Surname], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 01:58:30.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 01:58:30.489 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 131.4142ms
2024-06-30 01:58:30.491 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 01:58:30.493 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 200 null application/json; charset=utf-8 148.6565ms
2024-06-30 01:58:40.400 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 01:58:40.405 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:58:40.409 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 01:58:40.424 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 01:58:40.437 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 01:58:40.441 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 29.4756ms
2024-06-30 01:58:40.445 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 01:58:40.447 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 47.5873ms
2024-06-30 01:59:00.350 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 01:59:00.353 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:59:00.354 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 01:59:02.335 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 1979.7902ms
2024-06-30 01:59:02.339 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:59:08.159 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The input string 'aa' was not in a correct format.","StackTrace":"   at System.Number.ThrowFormatException[TChar](ReadOnlySpan`1 value)\r\n   at System.Int32.Parse(String s)\r\n   at Alisverislio_Task.Controllers.NoteController.AddNoteAsync(NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 26\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T22:59:08.1598279Z","$type":"ErrorDetails"}
2024-06-30 01:59:08.173 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 500 null application/json 7822.8371ms
2024-06-30 01:59:14.193 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 01:59:14.196 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 01:59:14.197 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 01:59:15.856 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 1658.1233ms
2024-06-30 01:59:15.862 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:01:33.654 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:01:33.791 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:01:33.792 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:01:33.815 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:01:33.816 +03:00 [INF] Hosting environment: Development
2024-06-30 02:01:33.817 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:01:34.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:01:34.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.897ms
2024-06-30 02:01:34.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:01:34.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:01:34.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 13.2228ms
2024-06-30 02:01:34.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2592ms
2024-06-30 02:01:34.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:01:34.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.3136ms
2024-06-30 02:01:55.602 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 86
2024-06-30 02:01:55.664 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:01:55.685 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:01:57.884 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 2194.9525ms
2024-06-30 02:01:57.888 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:05:29.826 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:05:29.960 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:05:29.961 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:05:29.982 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:05:29.983 +03:00 [INF] Hosting environment: Development
2024-06-30 02:05:29.984 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:05:30.564 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:05:30.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.2097ms
2024-06-30 02:05:30.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:05:30.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:05:30.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.3939ms
2024-06-30 02:05:30.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.6102ms
2024-06-30 02:05:30.815 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:05:30.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.5174ms
2024-06-30 02:05:49.322 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 02:05:49.386 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:05:49.406 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:05:49.596 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 186.3453ms
2024-06-30 02:05:49.597 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:05:49.654 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Unable to resolve service for type 'Microsoft.AspNetCore.Http.IHttpContextAccessor' while attempting to activate 'Alisverislio_Task.Controllers.NoteController'.","StackTrace":"   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-29T23:05:49.6535430Z","$type":"ErrorDetails"}
2024-06-30 02:05:49.740 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 500 null application/json 418.0603ms
2024-06-30 02:07:31.150 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:07:31.350 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:07:31.351 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:07:31.371 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:07:31.372 +03:00 [INF] Hosting environment: Development
2024-06-30 02:07:31.374 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:07:31.864 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:07:32.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.9542ms
2024-06-30 02:07:32.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:07:32.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:07:32.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 23.7601ms
2024-06-30 02:07:32.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.4623ms
2024-06-30 02:07:32.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:07:32.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.9422ms
2024-06-30 02:07:45.978 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 84
2024-06-30 02:07:46.041 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:07:46.061 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:07:48.240 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 2173.209ms
2024-06-30 02:07:48.244 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:14:38.243 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:14:38.370 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:14:38.371 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:14:38.393 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:14:38.393 +03:00 [INF] Hosting environment: Development
2024-06-30 02:14:38.394 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:14:38.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:14:39.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.418ms
2024-06-30 02:14:39.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:14:39.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:14:39.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.8196ms
2024-06-30 02:14:39.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.781ms
2024-06-30 02:14:39.185 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:14:39.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.0774ms
2024-06-30 02:14:58.593 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 02:14:58.656 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:14:58.678 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:15:02.374 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 3689.4462ms
2024-06-30 02:15:02.380 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:16:41.456 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:16:41.594 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:16:41.598 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:16:41.620 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:16:41.621 +03:00 [INF] Hosting environment: Development
2024-06-30 02:16:41.622 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:16:41.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:16:42.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.1339ms
2024-06-30 02:16:42.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:16:42.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:16:42.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.6096ms
2024-06-30 02:16:42.153 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.2525ms
2024-06-30 02:16:42.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:16:42.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.0054ms
2024-06-30 02:17:17.287 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:17:17.347 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:17:17.367 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:17:21.132 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 3761.04ms
2024-06-30 02:17:21.140 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:26:02.657 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:26:02.787 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:26:02.788 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:26:02.810 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:26:02.811 +03:00 [INF] Hosting environment: Development
2024-06-30 02:26:02.812 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:26:03.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:26:03.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 145.5448ms
2024-06-30 02:26:03.605 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:26:03.605 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:26:03.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.0518ms
2024-06-30 02:26:03.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.472ms
2024-06-30 02:26:03.699 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:26:03.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.1981ms
2024-06-30 02:26:05.002 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:26:05.038 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:26:05.051 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:29:23.182 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:29:23.310 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:29:23.311 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:29:23.331 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:29:23.333 +03:00 [INF] Hosting environment: Development
2024-06-30 02:29:23.334 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:29:23.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:29:23.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 135.4341ms
2024-06-30 02:29:24.058 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:29:24.058 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:29:24.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.1882ms
2024-06-30 02:29:24.088 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.7115ms
2024-06-30 02:29:24.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:29:24.174 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.5418ms
2024-06-30 02:29:25.779 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:29:25.815 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:29:25.830 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:29:43.038 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:29:43.178 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:29:43.179 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:29:43.207 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:29:43.208 +03:00 [INF] Hosting environment: Development
2024-06-30 02:29:43.209 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:29:43.464 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:29:43.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 140.0887ms
2024-06-30 02:29:43.605 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:29:43.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.2766ms
2024-06-30 02:29:43.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:29:43.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4556ms
2024-06-30 02:29:43.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:29:43.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.5516ms
2024-06-30 02:29:45.141 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:29:45.178 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:29:45.192 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:30:07.356 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:30:07.495 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:30:07.497 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:30:07.519 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:30:07.520 +03:00 [INF] Hosting environment: Development
2024-06-30 02:30:07.521 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:30:08.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:30:08.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.1962ms
2024-06-30 02:30:08.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:30:08.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.0491ms
2024-06-30 02:30:08.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:30:08.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7512ms
2024-06-30 02:30:08.396 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:30:08.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.6055ms
2024-06-30 02:30:10.240 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:30:10.277 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:30:10.291 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:30:34.912 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:30:35.136 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:30:35.137 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:30:35.161 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:30:35.162 +03:00 [INF] Hosting environment: Development
2024-06-30 02:30:35.163 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:30:35.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:30:35.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.2115ms
2024-06-30 02:30:35.940 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:30:35.940 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:30:35.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.5193ms
2024-06-30 02:30:35.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0542ms
2024-06-30 02:30:35.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:30:36.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.2865ms
2024-06-30 02:30:50.172 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 02:30:50.184 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 02:30:50.195 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 02:30:51.485 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 02:32:05.487 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 02:32:05.496 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 75295.9947ms
2024-06-30 02:32:05.498 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 02:32:05.505 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 75333.4002ms
2024-06-30 02:32:21.293 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:32:21.332 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:32:21.337 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:32:43.617 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:32:43.758 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:32:43.759 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:32:43.785 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:32:43.786 +03:00 [INF] Hosting environment: Development
2024-06-30 02:32:43.787 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:32:44.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:32:44.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.1941ms
2024-06-30 02:32:44.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:32:44.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.8486ms
2024-06-30 02:32:44.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:32:44.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7948ms
2024-06-30 02:32:44.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:32:44.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.1858ms
2024-06-30 02:32:46.828 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:32:46.881 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:32:46.895 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 02:33:01.880 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 02:33:02.048 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 02:33:02.049 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 02:33:02.073 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 02:33:02.074 +03:00 [INF] Hosting environment: Development
2024-06-30 02:33:02.074 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 02:33:02.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 02:33:02.748 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.5746ms
2024-06-30 02:33:02.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 02:33:02.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.4221ms
2024-06-30 02:33:02.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 02:33:02.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7532ms
2024-06-30 02:33:02.864 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 02:33:02.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.9672ms
2024-06-30 02:33:05.879 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 02:33:05.918 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 02:33:05.931 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 10:19:47.374 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:19:47.607 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:19:47.608 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:19:47.631 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:19:47.632 +03:00 [INF] Hosting environment: Development
2024-06-30 10:19:47.633 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:19:48.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:19:48.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 148.1997ms
2024-06-30 10:19:48.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:19:48.276 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:19:48.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.3259ms
2024-06-30 10:19:48.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.3328ms
2024-06-30 10:19:48.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:19:48.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.449ms
2024-06-30 10:20:01.423 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:20:01.437 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:20:01.460 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:20:02.797 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:20:38.714 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:20:38.723 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 37255.8934ms
2024-06-30 10:20:38.727 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:20:38.735 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 37313.1008ms
2024-06-30 10:21:06.166 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 10:21:06.202 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 10:21:06.209 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 10:34:01.747 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:34:01.874 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:34:01.875 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:34:01.897 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:34:01.897 +03:00 [INF] Hosting environment: Development
2024-06-30 10:34:01.898 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:34:02.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:34:02.609 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.535ms
2024-06-30 10:34:02.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:34:02.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.7524ms
2024-06-30 10:34:02.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:34:02.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.4648ms
2024-06-30 10:34:02.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:34:02.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.3395ms
2024-06-30 10:34:05.189 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:34:05.225 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:34:05.237 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:34:05.241 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:34:05.245 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:34:05.253 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 64.0379ms
2024-06-30 10:34:16.030 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:34:16.037 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:34:16.058 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:34:17.313 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:34:17.395 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:34:17.401 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:34:43.177 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:34:43.326 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:34:43.327 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:34:43.351 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:34:43.352 +03:00 [INF] Hosting environment: Development
2024-06-30 10:34:43.353 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:34:44.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:34:44.171 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.0861ms
2024-06-30 10:34:44.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:34:44.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3453ms
2024-06-30 10:34:44.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:34:44.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.9712ms
2024-06-30 10:34:44.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:34:44.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.147ms
2024-06-30 10:34:52.861 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:34:52.874 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:34:52.893 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:34:54.178 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:34:54.253 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__user_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:36:36.353 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:36:36.480 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:36:36.481 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:36:36.502 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:36:36.503 +03:00 [INF] Hosting environment: Development
2024-06-30 10:36:36.504 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:36:36.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:36:36.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.1952ms
2024-06-30 10:36:37.073 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:36:37.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:36:37.078 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.8223ms
2024-06-30 10:36:37.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.605ms
2024-06-30 10:36:37.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:36:37.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.3705ms
2024-06-30 10:36:51.860 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:36:51.873 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:36:51.892 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:36:53.177 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:36:53.253 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:36:53.259 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:36:53.294 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1395.2797ms
2024-06-30 10:36:53.296 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:36:53.301 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1440.5625ms
2024-06-30 10:37:25.224 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 10:37:25.259 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:37:25.267 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:37:25.273 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:37:25.278 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:37:25.280 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 401 0 null 56.6032ms
2024-06-30 10:37:44.233 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:37:44.236 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:37:44.238 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:37:44.241 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:37:44.242 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:37:44.244 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 10.9919ms
2024-06-30 10:39:05.453 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:39:05.460 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:39:05.462 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:39:05.463 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:39:05.464 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:39:05.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:39:07.062 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:39:07.062 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:40:23.637 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 78171.1317ms
2024-06-30 10:40:23.639 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:40:26.997 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 81544.7332ms
2024-06-30 10:41:20.290 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:41:20.415 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:41:20.416 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:41:20.437 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:41:20.438 +03:00 [INF] Hosting environment: Development
2024-06-30 10:41:20.439 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:41:21.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:41:21.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.7839ms
2024-06-30 10:41:21.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:41:21.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:41:21.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.9137ms
2024-06-30 10:41:21.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.4383ms
2024-06-30 10:41:21.282 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:41:21.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.5955ms
2024-06-30 10:41:33.451 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:41:33.470 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:41:33.490 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:41:34.780 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:41:39.807 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:41:39.827 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:41:39.833 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 6339.2598ms
2024-06-30 10:41:39.834 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:41:39.839 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 6388.0852ms
2024-06-30 10:41:52.702 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:41:52.736 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:41:52.744 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:41:52.748 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:41:52.751 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:41:52.753 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 50.9566ms
2024-06-30 10:44:44.783 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:44:44.911 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:44:44.912 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:44:44.933 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:44:44.934 +03:00 [INF] Hosting environment: Development
2024-06-30 10:44:44.935 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:44:45.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:44:45.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.7053ms
2024-06-30 10:44:45.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:44:45.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3974ms
2024-06-30 10:44:45.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:44:45.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.093ms
2024-06-30 10:44:45.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:44:45.985 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.261ms
2024-06-30 10:44:59.299 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:44:59.314 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:44:59.336 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:45:00.647 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:45:00.725 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:45:00.759 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:45:00.769 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1424.3499ms
2024-06-30 10:45:00.772 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:45:00.779 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1479.8868ms
2024-06-30 10:45:09.928 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:45:09.963 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:45:09.971 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:45:09.977 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:45:09.982 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:45:09.983 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 55.2641ms
2024-06-30 10:47:26.270 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:47:26.400 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:47:26.402 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:47:26.422 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:47:26.423 +03:00 [INF] Hosting environment: Development
2024-06-30 10:47:26.425 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:47:27.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:47:27.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 133.4306ms
2024-06-30 10:47:27.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:47:27.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:47:27.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.4135ms
2024-06-30 10:47:27.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.6284ms
2024-06-30 10:47:27.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:47:27.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.232ms
2024-06-30 10:47:33.992 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:47:34.005 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:47:34.024 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:47:35.334 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:47:35.411 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:47:35.416 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:47:35.450 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1418.6279ms
2024-06-30 10:47:35.452 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:47:35.458 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1465.8429ms
2024-06-30 10:47:44.295 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:47:44.329 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:47:44.335 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:47:44.340 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:47:44.345 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:47:44.347 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 51.4413ms
2024-06-30 10:48:39.670 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:48:39.796 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:48:39.797 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:48:39.818 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:48:39.819 +03:00 [INF] Hosting environment: Development
2024-06-30 10:48:39.819 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:48:40.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:48:40.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 140.4358ms
2024-06-30 10:48:40.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:48:40.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:48:40.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.862ms
2024-06-30 10:48:40.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.7996ms
2024-06-30 10:48:40.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:48:40.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.0169ms
2024-06-30 10:48:46.067 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:48:46.080 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:48:46.099 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:48:47.350 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:48:47.429 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:48:47.460 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:48:47.466 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1360.4244ms
2024-06-30 10:48:47.468 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:48:47.474 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1406.5968ms
2024-06-30 10:49:46.539 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:49:46.667 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:49:46.668 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:49:46.690 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:49:46.691 +03:00 [INF] Hosting environment: Development
2024-06-30 10:49:46.691 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:49:47.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:49:47.490 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.9261ms
2024-06-30 10:49:47.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:49:47.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.5959ms
2024-06-30 10:49:47.597 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:49:47.619 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.4929ms
2024-06-30 10:49:47.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:49:47.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.0986ms
2024-06-30 10:49:55.195 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:49:55.207 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:49:55.228 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:49:56.541 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:49:56.624 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:58:21.221 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 10:58:21.381 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 10:58:21.382 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 10:58:21.409 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 10:58:21.410 +03:00 [INF] Hosting environment: Development
2024-06-30 10:58:21.412 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 10:58:21.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 10:58:21.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 145.5198ms
2024-06-30 10:58:21.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 10:58:21.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 10:58:21.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.7217ms
2024-06-30 10:58:21.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.3395ms
2024-06-30 10:58:21.876 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 10:58:21.937 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.6451ms
2024-06-30 10:58:29.398 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 10:58:29.416 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:58:29.434 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 10:58:30.773 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 10:58:30.855 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 10:58:30.886 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 10:58:30.892 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1453.6429ms
2024-06-30 10:58:30.894 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 10:58:30.901 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1502.8884ms
2024-06-30 10:58:41.430 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:58:41.467 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:58:41.475 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:58:41.480 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:58:41.484 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:58:41.486 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 55.8468ms
2024-06-30 10:58:56.740 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 10:58:56.746 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 10:58:56.749 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 10:58:56.751 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 10:58:56.753 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 10:58:56.754 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 14.8356ms
2024-06-30 11:00:54.122 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:00:54.247 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:00:54.248 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:00:54.269 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:00:54.270 +03:00 [INF] Hosting environment: Development
2024-06-30 11:00:54.271 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:00:54.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:00:54.711 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.051ms
2024-06-30 11:00:54.775 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:00:54.775 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:00:54.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.5274ms
2024-06-30 11:00:54.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.5824ms
2024-06-30 11:00:54.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:00:54.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.7197ms
2024-06-30 11:01:30.828 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:01:30.970 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:01:30.972 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:01:30.995 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:01:30.996 +03:00 [INF] Hosting environment: Development
2024-06-30 11:01:30.997 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:01:31.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:01:31.451 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 159.1648ms
2024-06-30 11:01:31.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:01:31.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:01:31.525 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.8093ms
2024-06-30 11:01:31.553 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.8634ms
2024-06-30 11:01:31.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:01:31.640 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.3138ms
2024-06-30 11:01:42.921 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:01:42.935 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:01:42.956 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:01:44.248 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:01:44.397 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1436.3245ms
2024-06-30 11:01:44.399 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:01:44.509 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The LINQ expression 'DbSet<User>()\r\n    .Where(u => u.Name == __user_Name_0 && PasswordHelper.HashPassword(u.Password) == __user_Password_1)' could not be translated. Additional information: Translation of method 'Alisverislio_Task.BLL.StaticMethods.PasswordHelper.HashPassword' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.FirstOrDefault(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 63\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 112\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T08:01:44.5088675Z","$type":"ErrorDetails"}
2024-06-30 11:01:44.596 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 1674.5959ms
2024-06-30 11:03:03.467 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:03:03.471 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:03:03.474 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:03:10.248 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:03:16.611 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 13134.0016ms
2024-06-30 11:03:16.614 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:03:16.636 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The LINQ expression 'DbSet<User>()\r\n    .Where(u => u.Name == __user_Name_0 && PasswordHelper.HashPassword(u.Password) == __user_Password_1)' could not be translated. Additional information: Translation of method 'Alisverislio_Task.BLL.StaticMethods.PasswordHelper.HashPassword' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.FirstOrDefault(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 63\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 112\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T08:03:16.6362389Z","$type":"ErrorDetails"}
2024-06-30 11:03:16.655 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 13186.2979ms
2024-06-30 11:03:37.931 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:03:38.077 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:03:38.078 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:03:38.102 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:03:38.103 +03:00 [INF] Hosting environment: Development
2024-06-30 11:03:38.104 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:03:38.663 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:03:38.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 140.5681ms
2024-06-30 11:03:38.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:03:38.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.4522ms
2024-06-30 11:03:38.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:03:38.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.829ms
2024-06-30 11:03:39.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:03:39.061 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.7597ms
2024-06-30 11:03:45.154 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:03:45.167 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:03:45.186 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:03:49.649 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:03:52.097 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 6903.6779ms
2024-06-30 11:03:52.099 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:03:52.134 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The LINQ expression 'DbSet<User>()\r\n    .Where(u => u.Name == __user_Name_0 && PasswordHelper.HashPassword(u.Password) == __user_Password_1)' could not be translated. Additional information: Translation of method 'Alisverislio_Task.BLL.StaticMethods.PasswordHelper.HashPassword' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.FirstOrDefault(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 63\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 112\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T08:03:52.1341804Z","$type":"ErrorDetails"}
2024-06-30 11:03:52.214 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 7059.7214ms
2024-06-30 11:04:50.654 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:04:50.802 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:04:50.803 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:04:50.824 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:04:50.828 +03:00 [INF] Hosting environment: Development
2024-06-30 11:04:50.830 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:04:51.072 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:04:51.215 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.1392ms
2024-06-30 11:04:51.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:04:51.322 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:04:51.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.9751ms
2024-06-30 11:04:51.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.7773ms
2024-06-30 11:04:51.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:04:51.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.1773ms
2024-06-30 11:04:58.988 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:04:59.000 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:04:59.020 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:05:02.460 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:05:05.588 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 6561.5053ms
2024-06-30 11:05:05.591 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:05:05.634 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The LINQ expression 'DbSet<User>()\r\n    .Where(u => u.Name == __user_Name_0 && PasswordHelper.HashPassword(u.Password) == __user_Password_1)' could not be translated. Additional information: Translation of method 'Alisverislio_Task.BLL.StaticMethods.PasswordHelper.HashPassword' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 31\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 112\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T08:05:05.6336054Z","$type":"ErrorDetails"}
2024-06-30 11:05:05.752 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 6764.5005ms
2024-06-30 11:05:37.974 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:05:38.119 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:05:38.120 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:05:38.145 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:05:38.146 +03:00 [INF] Hosting environment: Development
2024-06-30 11:05:38.146 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:05:38.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:05:38.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.0872ms
2024-06-30 11:05:38.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:05:38.745 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3539ms
2024-06-30 11:05:38.797 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:05:38.824 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1041ms
2024-06-30 11:05:38.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:05:38.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.9747ms
2024-06-30 11:05:45.191 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:05:45.204 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:05:45.223 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:05:47.793 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:05:50.146 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 4916.0141ms
2024-06-30 11:05:50.148 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:05:50.190 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The LINQ expression 'DbSet<User>()\r\n    .Where(u => u.Name == __user_Name_0 && __user_Password_1 == PasswordHelper.HashPassword(u.Password))' could not be translated. Additional information: Translation of method 'Alisverislio_Task.BLL.StaticMethods.PasswordHelper.HashPassword' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 31\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 112\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T08:05:50.1895150Z","$type":"ErrorDetails"}
2024-06-30 11:05:50.311 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 5119.8603ms
2024-06-30 11:06:35.081 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:06:35.228 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:06:35.229 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:06:35.255 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:06:35.257 +03:00 [INF] Hosting environment: Development
2024-06-30 11:06:35.258 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:06:35.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:06:35.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 140.8529ms
2024-06-30 11:06:35.737 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:06:35.737 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:06:35.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.928ms
2024-06-30 11:06:35.762 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7071ms
2024-06-30 11:06:35.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:06:35.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.5771ms
2024-06-30 11:06:43.385 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:06:43.397 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:06:43.417 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:06:45.615 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:06:47.504 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 11:06:53.385 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 11:06:53.394 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 9970.1168ms
2024-06-30 11:06:53.395 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:06:53.401 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 10016.2326ms
2024-06-30 11:07:02.450 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:07:02.491 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 11:07:02.500 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 11:07:02.506 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 11:07:02.513 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 11:07:02.516 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 65.7045ms
2024-06-30 11:33:33.141 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:33:33.149 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 11:33:33.151 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 11:33:33.152 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 11:33:33.154 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 11:33:33.155 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 14.3966ms
2024-06-30 11:33:54.746 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:33:54.920 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:33:54.921 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:33:54.949 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:33:54.950 +03:00 [INF] Hosting environment: Development
2024-06-30 11:33:54.951 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:33:55.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:33:55.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.508ms
2024-06-30 11:33:55.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:33:55.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:33:55.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 10.8259ms
2024-06-30 11:33:55.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.8698ms
2024-06-30 11:33:55.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:33:55.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.3441ms
2024-06-30 11:34:04.576 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:34:04.588 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:34:04.608 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:34:11.831 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:34:23.270 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 11:34:29.492 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 11:34:29.521 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 24908.5958ms
2024-06-30 11:34:29.523 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:34:31.669 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 27092.4779ms
2024-06-30 11:36:04.476 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:36:04.608 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:36:04.610 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:36:04.631 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:36:04.632 +03:00 [INF] Hosting environment: Development
2024-06-30 11:36:04.633 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:36:05.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:36:05.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.9386ms
2024-06-30 11:36:05.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:36:05.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:36:05.253 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 13.4889ms
2024-06-30 11:36:05.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6459ms
2024-06-30 11:36:05.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:36:05.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.2151ms
2024-06-30 11:36:09.303 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:36:09.336 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 11:36:09.348 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2024-06-30 11:36:09.353 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (RegularUser)
2024-06-30 11:36:09.356 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 11:36:09.363 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 60.1805ms
2024-06-30 11:38:38.218 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:38:38.365 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:38:38.366 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:38:38.389 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:38:38.390 +03:00 [INF] Hosting environment: Development
2024-06-30 11:38:38.391 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:38:39.008 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:38:39.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.3972ms
2024-06-30 11:38:39.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:38:39.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.5457ms
2024-06-30 11:38:39.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:38:39.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7328ms
2024-06-30 11:38:39.264 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:38:39.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.7703ms
2024-06-30 11:38:47.499 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:38:47.511 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:38:47.529 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:38:52.778 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:38:56.030 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 11:38:56.053 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 11:38:56.060 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 8524.5889ms
2024-06-30 11:38:56.061 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:38:56.066 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 8567.8054ms
2024-06-30 11:39:04.162 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:39:04.197 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10214: Audience validation failed. Audiences: 'yourIssuer'. Did not match: validationParameters.ValidAudience: 'yourAudience' or validationParameters.ValidAudiences: 'null'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 11:39:04.205 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10214: Audience validation failed. Audiences: 'yourIssuer'. Did not match: validationParameters.ValidAudience: 'yourAudience' or validationParameters.ValidAudiences: 'null'.
2024-06-30 11:39:04.211 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 11:39:04.216 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 11:39:04.218 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 401 0 null 55.6608ms
2024-06-30 11:39:26.556 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:39:26.681 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:39:26.682 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:39:26.703 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:39:26.704 +03:00 [INF] Hosting environment: Development
2024-06-30 11:39:26.705 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:39:27.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:39:27.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.3159ms
2024-06-30 11:39:27.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:39:27.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.2102ms
2024-06-30 11:39:27.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:39:27.503 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.2048ms
2024-06-30 11:39:27.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:39:27.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.0274ms
2024-06-30 11:39:33.703 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:39:33.714 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:39:33.735 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:39:40.668 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:39:42.408 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 11:39:42.433 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 11:39:42.439 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 8700.1027ms
2024-06-30 11:39:42.441 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:39:42.446 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 8744.3691ms
2024-06-30 11:39:54.502 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:39:54.542 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:39:54.549 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 11:39:58.958 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 4407.2335ms
2024-06-30 11:39:58.963 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:40:08.348 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:40:08.517 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:40:08.518 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:40:08.541 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:40:08.542 +03:00 [INF] Hosting environment: Development
2024-06-30 11:40:08.543 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:40:09.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:40:09.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 142.3888ms
2024-06-30 11:40:09.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:40:09.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:40:09.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.9948ms
2024-06-30 11:40:09.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.045ms
2024-06-30 11:40:09.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:40:09.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.4282ms
2024-06-30 11:40:22.340 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:40:22.400 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:40:22.422 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 11:40:34.766 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 12338.8914ms
2024-06-30 11:40:34.770 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:42:26.075 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:42:26.213 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:42:26.214 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:42:26.235 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:42:26.236 +03:00 [INF] Hosting environment: Development
2024-06-30 11:42:26.237 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:42:26.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:42:27.033 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.3712ms
2024-06-30 11:42:27.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:42:27.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:42:27.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.0208ms
2024-06-30 11:42:27.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1482ms
2024-06-30 11:42:27.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:42:27.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.1118ms
2024-06-30 11:42:35.084 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:42:35.097 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:42:35.117 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:42:38.536 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:42:39.312 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 11:42:39.336 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 11:42:39.341 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 4218.3723ms
2024-06-30 11:42:39.342 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:42:39.348 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 4263.7123ms
2024-06-30 11:42:50.242 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:42:50.280 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:42:50.284 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 11:43:50.767 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 11:43:50.894 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 11:43:50.895 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 11:43:50.916 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 11:43:50.917 +03:00 [INF] Hosting environment: Development
2024-06-30 11:43:50.918 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 11:43:51.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 11:43:51.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 134.7978ms
2024-06-30 11:43:51.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 11:43:51.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.6578ms
2024-06-30 11:43:51.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 11:43:51.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.9908ms
2024-06-30 11:43:51.496 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 11:43:51.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.7405ms
2024-06-30 11:44:00.468 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 11:44:00.479 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:44:00.498 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 11:44:03.661 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 11:44:04.490 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 11:44:04.519 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 11:44:04.525 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 4020.2373ms
2024-06-30 11:44:04.527 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 11:44:04.533 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 4065.8176ms
2024-06-30 11:44:16.287 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note - application/json 91
2024-06-30 11:44:16.330 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:44:16.335 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 11:44:23.275 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notes] ([BookId], [Content], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-06-30 11:44:24.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 11:44:25.597 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 9259.4813ms
2024-06-30 11:44:25.599 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 11:44:25.601 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note - 200 null application/json; charset=utf-8 9314.0573ms
2024-06-30 11:59:54.378 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 11:59:54.390 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 11:59:54.395 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 11:59:54.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/1 - 401 0 null 17.4305ms
2024-06-30 12:00:29.124 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - null null
2024-06-30 12:00:29.128 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 12:00:29.134 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:00:29.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 12:00:29.193 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 12:00:29.196 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task) in 59.8251ms
2024-06-30 12:00:29.198 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 12:00:29.200 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/1 - 200 null application/json; charset=utf-8 76.4409ms
2024-06-30 12:00:50.363 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/bybook/1 - null null
2024-06-30 12:00:50.366 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:00:50.377 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:00:50.393 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND [n].[Visibility] <> 1
2024-06-30 12:00:50.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:00:50.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:00:50.424 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 46.2607ms
2024-06-30 12:00:50.430 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:00:50.430 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/bybook/1 - 200 null application/json; charset=utf-8 67.2047ms
2024-06-30 12:01:07.085 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/byvisibility/1 - null null
2024-06-30 12:01:07.089 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/byvisibility/1 - 404 0 null 4.0524ms
2024-06-30 12:01:07.093 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7259/api/byvisibility/1, Response status code: 404
2024-06-30 12:01:09.624 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/byvisibility/0 - null null
2024-06-30 12:01:09.627 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/byvisibility/0 - 404 0 null 2.9341ms
2024-06-30 12:01:09.629 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7259/api/byvisibility/0, Response status code: 404
2024-06-30 12:01:22.657 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/byvisibility/private - null null
2024-06-30 12:01:22.659 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/byvisibility/private - 404 0 null 1.9488ms
2024-06-30 12:01:22.660 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7259/api/byvisibility/private, Response status code: 404
2024-06-30 12:01:31.910 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/usernotes - null null
2024-06-30 12:01:31.913 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:01:31.916 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:01:31.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:01:31.951 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 12:01:31.954 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:01:31.957 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 38.7002ms
2024-06-30 12:01:31.959 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:01:31.961 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/usernotes - 200 null application/json; charset=utf-8 50.8281ms
2024-06-30 12:01:48.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 131
2024-06-30 12:01:48.885 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 12:01:48.889 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 12:01:48.915 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userDto_Username_0='?' (Size = 4000), @__userDto_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Username] = @__userDto_Username_0 OR [u].[Email] = @__userDto_Email_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-30 12:01:48.939 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role], [Surname], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 12:01:48.945 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 12:01:48.948 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 56.4953ms
2024-06-30 12:01:48.949 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 12:01:48.951 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 200 null application/json; charset=utf-8 69.8114ms
2024-06-30 12:01:58.702 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 12:01:58.706 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 12:01:58.708 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 12:02:03.729 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 12:02:08.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 12:02:08.652 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:02:08.653 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 9942.3534ms
2024-06-30 12:02:08.654 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 12:02:08.655 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 9953.0118ms
2024-06-30 12:02:27.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/usernotes - null null
2024-06-30 12:02:27.476 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:02:27.478 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:02:27.483 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:02:27.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 12:02:27.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:02:27.491 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 10.9832ms
2024-06-30 12:02:27.492 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:02:27.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/usernotes - 200 null application/json; charset=utf-8 20.5998ms
2024-06-30 12:02:35.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/bybook/1 - null null
2024-06-30 12:02:35.936 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:02:35.937 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:02:35.943 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND [n].[Visibility] <> 1
2024-06-30 12:02:35.947 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:02:35.951 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:02:35.952 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 13.2258ms
2024-06-30 12:02:35.954 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:02:35.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/bybook/1 - 200 null application/json; charset=utf-8 24.3602ms
2024-06-30 12:02:51.829 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 84
2024-06-30 12:02:51.833 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 12:02:51.835 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:02:54.478 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notes] ([BookId], [Content], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-06-30 12:02:54.482 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 12:02:54.483 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 2646.7677ms
2024-06-30 12:02:54.485 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 12:02:54.486 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 200 null application/json; charset=utf-8 2657.2931ms
2024-06-30 12:03:08.572 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/usernotes - null null
2024-06-30 12:03:08.574 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:03:08.575 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:03:08.579 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:03:08.581 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 12:03:08.583 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:03:08.584 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 7.9433ms
2024-06-30 12:03:08.584 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:03:08.585 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/usernotes - 200 null application/json; charset=utf-8 12.7394ms
2024-06-30 12:03:11.559 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/usernotes - null null
2024-06-30 12:03:11.562 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:03:11.563 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:03:11.569 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:03:11.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 12:03:11.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:03:11.576 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 10.5137ms
2024-06-30 12:03:11.578 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:03:11.579 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/usernotes - 200 null application/json; charset=utf-8 20.2782ms
2024-06-30 12:03:22.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/bybook/1 - null null
2024-06-30 12:03:22.175 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:03:22.176 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:03:22.181 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND [n].[Visibility] <> 1
2024-06-30 12:03:22.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:03:22.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:03:22.189 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 10.9968ms
2024-06-30 12:03:22.191 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:03:22.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/bybook/1 - 200 null application/json; charset=utf-8 21.5138ms
2024-06-30 12:03:24.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/bybook/2 - null null
2024-06-30 12:03:24.442 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:03:24.443 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:03:24.446 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND [n].[Visibility] <> 1
2024-06-30 12:03:24.450 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:03:24.452 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:03:24.453 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 8.542ms
2024-06-30 12:03:24.455 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:03:24.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/bybook/2 - 200 null application/json; charset=utf-8 16.9716ms
2024-06-30 12:04:11.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/bybook/2 - null null
2024-06-30 12:04:11.598 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:04:11.599 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:04:13.877 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND [n].[Visibility] <> 1
2024-06-30 12:04:27.285 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:04:34.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:04:34.961 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 23359.9648ms
2024-06-30 12:04:34.962 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 12:04:34.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/bybook/2 - 200 null application/json; charset=utf-8 23371.9143ms
2024-06-30 12:09:05.826 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 12:09:05.970 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 12:09:05.971 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 12:09:05.993 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 12:09:05.994 +03:00 [INF] Hosting environment: Development
2024-06-30 12:09:05.995 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 12:09:06.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 12:09:06.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.7606ms
2024-06-30 12:09:06.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 12:09:06.618 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 12:09:06.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.1621ms
2024-06-30 12:09:06.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.8822ms
2024-06-30 12:09:06.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 12:09:06.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.0462ms
2024-06-30 12:09:15.369 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 12:09:15.381 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 12:09:15.400 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 12:09:16.687 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 12:09:16.766 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 12:09:16.796 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:09:16.803 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1395.9129ms
2024-06-30 12:09:16.805 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 12:09:16.810 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1441.3285ms
2024-06-30 12:09:31.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/usernotes - null null
2024-06-30 12:09:31.925 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:09:31.930 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:09:32.015 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:09:32.042 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 12:09:32.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:09:32.051 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 119.096ms
2024-06-30 12:09:32.053 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:09:32.054 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/usernotes - 200 null application/json; charset=utf-8 172.4031ms
2024-06-30 12:09:38.494 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/usernotes - null null
2024-06-30 12:09:38.498 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:09:38.499 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:09:38.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 12:09:38.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 12:09:38.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 12:09:38.522 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 22.0649ms
2024-06-30 12:09:38.523 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 12:09:38.524 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/usernotes - 200 null application/json; charset=utf-8 30.3795ms
2024-06-30 12:10:54.717 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/note/byvisibility/1 - application/json 91
2024-06-30 12:10:54.719 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-06-30 12:10:54.720 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-06-30 12:10:54.722 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/note/byvisibility/1 - 405 0 null 4.5039ms
2024-06-30 12:11:00.854 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/byvisibility/0 - application/json 91
2024-06-30 12:11:00.859 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByVisibilityAsync (Alisverislio_Task)'
2024-06-30 12:11:00.863 +03:00 [INF] Route matched with {action = "GetNotesByVisibility", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByVisibilityAsync(Alisverislio_Task.DAL.Enums.Visibility) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:11:27.487 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByVisibilityAsync (Alisverislio_Task) in 26622.5989ms
2024-06-30 12:11:27.489 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByVisibilityAsync (Alisverislio_Task)'
2024-06-30 12:11:28.225 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Object reference not set to an instance of an object.","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.NoteRepository.GetNotesByVisibilityAsync(Visibility visibility) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\NoteRepository.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.GetNotesByVisibilityAsync(Int32 userId, Visibility visibility) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 80\r\n   at Alisverislio_Task.Controllers.NoteController.GetNotesByVisibilityAsync(Visibility visibility) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 80\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T09:11:28.2249433Z","$type":"ErrorDetails"}
2024-06-30 12:11:28.297 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/byvisibility/0 - 500 null application/json 27443.0837ms
2024-06-30 12:11:32.301 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/byvisibility/0 - application/json 91
2024-06-30 12:11:32.305 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByVisibilityAsync (Alisverislio_Task)'
2024-06-30 12:11:32.306 +03:00 [INF] Route matched with {action = "GetNotesByVisibility", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByVisibilityAsync(Alisverislio_Task.DAL.Enums.Visibility) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:14:46.227 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 12:14:46.355 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 12:14:46.356 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 12:14:46.376 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 12:14:46.377 +03:00 [INF] Hosting environment: Development
2024-06-30 12:14:46.378 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 12:14:46.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 12:14:46.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.4288ms
2024-06-30 12:14:46.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 12:14:46.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 12:14:46.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.6336ms
2024-06-30 12:14:46.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4543ms
2024-06-30 12:14:46.996 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 12:14:47.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6287ms
2024-06-30 12:14:55.415 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 12:14:55.426 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 12:14:55.446 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 12:14:56.744 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 12:14:56.819 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 12:14:56.849 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 12:14:56.856 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1403.0322ms
2024-06-30 12:14:56.857 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 12:14:56.863 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1449.1005ms
2024-06-30 12:15:26.437 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/2 - application/json 83
2024-06-30 12:15:26.481 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 12:15:26.487 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:15:26.566 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 12:15:26.663 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 174.9169ms
2024-06-30 12:15:26.665 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 12:15:26.727 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'Note.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 36\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 42\r\n   at Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 43\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T09:15:26.7260328Z","$type":"ErrorDetails"}
2024-06-30 12:15:26.804 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/2 - 500 null application/json 367.2252ms
2024-06-30 12:15:36.320 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/2 - application/json 75
2024-06-30 12:15:36.325 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 12:15:36.327 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:15:36.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 12:15:36.387 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 57.7043ms
2024-06-30 12:15:36.388 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 12:15:36.418 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'Note.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 36\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 42\r\n   at Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 43\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T09:15:36.4186354Z","$type":"ErrorDetails"}
2024-06-30 12:15:36.425 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/2 - 500 null application/json 104.8555ms
2024-06-30 12:15:47.291 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/2 - application/json 83
2024-06-30 12:15:47.295 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 12:15:47.296 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 12:15:47.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 12:15:47.377 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [BookId] = @p0, [Content] = @p1, [UserId] = @p2, [Visibility] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-30 12:15:47.391 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 12:15:47.394 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 95.4137ms
2024-06-30 12:15:47.395 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 12:15:47.400 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/2 - 200 null application/json; charset=utf-8 110.3752ms
2024-06-30 13:10:50.211 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:10:50.346 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:10:50.347 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:10:50.372 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:10:50.372 +03:00 [INF] Hosting environment: Development
2024-06-30 13:10:50.373 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:10:50.646 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:10:50.786 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.3062ms
2024-06-30 13:10:50.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:10:50.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:10:50.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.3766ms
2024-06-30 13:10:50.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7181ms
2024-06-30 13:10:50.909 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:10:50.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.5475ms
2024-06-30 13:11:02.361 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 13:11:02.374 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:11:02.394 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 13:11:03.677 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 13:11:03.757 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 13:11:03.786 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:11:03.794 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1392.9491ms
2024-06-30 13:11:03.797 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:11:03.803 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1441.8404ms
2024-06-30 13:11:20.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 13:11:20.188 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:11:20.192 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:14:06.220 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:14:06.353 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:14:06.355 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:14:06.377 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:14:06.378 +03:00 [INF] Hosting environment: Development
2024-06-30 13:14:06.379 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:14:06.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:14:07.067 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.0506ms
2024-06-30 13:14:07.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:14:07.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:14:07.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.1631ms
2024-06-30 13:14:07.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.2861ms
2024-06-30 13:14:07.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:14:07.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.9376ms
2024-06-30 13:14:15.854 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 13:14:15.865 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:14:15.886 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 13:14:17.235 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 13:14:17.313 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 13:14:17.342 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:14:17.349 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1456.1188ms
2024-06-30 13:14:17.351 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:14:17.356 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1502.6695ms
2024-06-30 13:14:35.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 13:14:35.170 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:14:35.178 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:16:43.345 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:16:43.473 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:16:43.476 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:16:43.497 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:16:43.498 +03:00 [INF] Hosting environment: Development
2024-06-30 13:16:43.500 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:16:44.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:16:44.266 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.0187ms
2024-06-30 13:16:44.270 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:16:44.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.345ms
2024-06-30 13:16:44.372 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:16:44.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.144ms
2024-06-30 13:16:44.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:16:44.523 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.9512ms
2024-06-30 13:16:53.364 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 13:16:53.376 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:16:53.392 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 13:16:54.713 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 13:16:54.792 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 13:16:54.826 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:16:54.832 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1435.8809ms
2024-06-30 13:16:54.833 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:16:54.840 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1476.0459ms
2024-06-30 13:17:10.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 13:17:10.845 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:17:10.852 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:17:54.466 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:17:54.597 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:17:54.598 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:17:54.619 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:17:54.620 +03:00 [INF] Hosting environment: Development
2024-06-30 13:17:54.622 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:17:55.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:17:55.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.0388ms
2024-06-30 13:17:55.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:17:55.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:17:55.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3304ms
2024-06-30 13:17:55.476 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2215ms
2024-06-30 13:17:55.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:17:55.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.2289ms
2024-06-30 13:18:01.276 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 13:18:01.288 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:18:01.308 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 13:18:02.636 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 13:18:02.714 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 13:18:02.744 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:18:02.752 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1436.9616ms
2024-06-30 13:18:02.755 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:18:02.761 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1484.9372ms
2024-06-30 13:18:17.933 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 13:18:17.976 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:18:17.982 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:18:42.187 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:18:42.309 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:18:42.310 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:18:42.332 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:18:42.333 +03:00 [INF] Hosting environment: Development
2024-06-30 13:18:42.335 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:18:43.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:18:43.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.5358ms
2024-06-30 13:18:43.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:18:43.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.7775ms
2024-06-30 13:18:43.224 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:18:43.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.9856ms
2024-06-30 13:18:43.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:18:43.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.3844ms
2024-06-30 13:18:53.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 13:18:53.751 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:18:53.773 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:19:43.587 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:19:43.759 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:19:43.760 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:19:43.788 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:19:43.789 +03:00 [INF] Hosting environment: Development
2024-06-30 13:19:43.790 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:19:44.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:19:44.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 142.8191ms
2024-06-30 13:19:44.585 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:19:44.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.5713ms
2024-06-30 13:19:44.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:19:44.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.285ms
2024-06-30 13:19:44.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:19:44.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.4636ms
2024-06-30 13:19:55.744 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:19:55.808 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:19:55.828 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:21:56.517 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:21:56.644 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:21:56.645 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:21:56.666 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:21:56.667 +03:00 [INF] Hosting environment: Development
2024-06-30 13:21:56.668 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:21:57.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:21:57.177 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 162.5632ms
2024-06-30 13:21:57.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:21:57.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:21:57.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 13.5138ms
2024-06-30 13:21:57.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.3652ms
2024-06-30 13:21:57.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:21:57.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.0451ms
2024-06-30 13:21:58.572 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:21:58.610 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:21:58.622 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:24:41.205 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:24:41.340 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:24:41.342 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:24:41.364 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:24:41.365 +03:00 [INF] Hosting environment: Development
2024-06-30 13:24:41.366 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:24:41.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:24:41.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 149.5454ms
2024-06-30 13:24:41.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:24:42.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.1814ms
2024-06-30 13:24:42.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:24:42.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.684ms
2024-06-30 13:24:42.115 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:24:42.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.0135ms
2024-06-30 13:24:44.942 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:24:44.981 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:24:44.994 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:25:11.328 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task) in 26329.4463ms
2024-06-30 13:25:11.332 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:25:18.633 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Object reference not set to an instance of an object.","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetCurrentUserId() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 29\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 44\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.GetNoteAsync(Int32 userId, Int32 noteId) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 59\r\n   at Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 62\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T10:25:18.6327054Z","$type":"ErrorDetails"}
2024-06-30 13:25:23.219 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/1 - 500 null application/json 38276.3627ms
2024-06-30 13:27:46.589 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:27:46.742 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:27:46.743 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:27:46.764 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:27:46.765 +03:00 [INF] Hosting environment: Development
2024-06-30 13:27:46.766 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:27:47.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:27:47.485 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.5152ms
2024-06-30 13:27:47.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:27:47.495 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.0346ms
2024-06-30 13:27:47.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:27:47.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.14ms
2024-06-30 13:27:47.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:27:47.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.3794ms
2024-06-30 13:27:55.637 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:27:55.700 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:27:55.722 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:28:15.711 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:28:15.839 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:28:15.840 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:28:15.861 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:28:15.861 +03:00 [INF] Hosting environment: Development
2024-06-30 13:28:15.862 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:28:16.352 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:28:16.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.9048ms
2024-06-30 13:28:16.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:28:16.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:28:16.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.4265ms
2024-06-30 13:28:16.587 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.53ms
2024-06-30 13:28:16.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:28:16.682 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.3751ms
2024-06-30 13:28:21.651 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 13:28:21.659 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:28:21.671 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 13:28:22.446 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 13:28:22.528 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 13:28:22.558 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:28:22.565 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 887.5274ms
2024-06-30 13:28:22.566 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:28:22.571 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 920.3496ms
2024-06-30 13:28:32.367 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:28:32.405 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:28:32.412 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:29:54.999 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:29:55.124 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:29:55.126 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:29:55.147 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:29:55.148 +03:00 [INF] Hosting environment: Development
2024-06-30 13:29:55.149 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:29:55.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:29:55.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.0106ms
2024-06-30 13:29:55.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:29:55.615 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.9405ms
2024-06-30 13:29:55.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:29:55.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.2469ms
2024-06-30 13:29:55.719 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:29:55.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.3156ms
2024-06-30 13:29:57.502 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:29:57.539 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:29:57.551 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:38:44.381 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:38:44.512 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:38:44.514 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:38:44.535 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:38:44.536 +03:00 [INF] Hosting environment: Development
2024-06-30 13:38:44.537 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:38:44.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:38:45.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 142.0294ms
2024-06-30 13:38:45.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:38:45.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:38:45.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.6034ms
2024-06-30 13:38:45.153 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6536ms
2024-06-30 13:38:45.182 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:38:45.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.9297ms
2024-06-30 13:39:08.478 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:39:08.611 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:39:08.612 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:39:08.640 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:39:08.641 +03:00 [INF] Hosting environment: Development
2024-06-30 13:39:08.642 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:39:09.300 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:39:09.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.0507ms
2024-06-30 13:39:09.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:39:09.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:39:09.517 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.0367ms
2024-06-30 13:39:09.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.8732ms
2024-06-30 13:39:09.564 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:39:09.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.0802ms
2024-06-30 13:39:10.838 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:39:10.886 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:39:10.899 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:42:17.724 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 13:42:17.856 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 13:42:17.858 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 13:42:17.878 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 13:42:17.879 +03:00 [INF] Hosting environment: Development
2024-06-30 13:42:17.880 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 13:42:18.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 13:42:18.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 142.0206ms
2024-06-30 13:42:18.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 13:42:18.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.7165ms
2024-06-30 13:42:18.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 13:42:18.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.0677ms
2024-06-30 13:42:18.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 13:42:18.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.6474ms
2024-06-30 13:42:20.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/1 - application/json 91
2024-06-30 13:42:20.591 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:42:20.602 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:42:36.374 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 13:42:38.540 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 13:42:38.552 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task) in 17945.4837ms
2024-06-30 13:42:38.555 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:42:38.563 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/1 - 200 null application/json; charset=utf-8 18010.6367ms
2024-06-30 13:42:44.495 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/2 - application/json 91
2024-06-30 13:42:44.503 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:42:44.505 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:42:48.146 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 13:42:48.149 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 13:42:48.151 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task) in 3645.2605ms
2024-06-30 13:42:48.153 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:42:48.154 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/2 - 200 null application/json; charset=utf-8 3658.9294ms
2024-06-30 13:43:24.051 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 13:43:24.059 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:43:24.065 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 13:43:24.103 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 13:43:24.127 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 13:43:24.139 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 13:43:24.143 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 75.554ms
2024-06-30 13:43:24.145 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 13:43:24.147 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 95.5525ms
2024-06-30 13:43:41.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/1 - null null
2024-06-30 13:43:41.549 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:43:41.551 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 13:43:43.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 13:43:43.582 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task) in 2029.6233ms
2024-06-30 13:43:43.585 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 13:43:43.631 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"You can only access your own entities.","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 52\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.GetNoteAsync(Int32 userId, Int32 noteId) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 59\r\n   at Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 62\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T10:43:43.6308091Z","$type":"ErrorDetails"}
2024-06-30 13:43:43.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/1 - 500 null application/json 2153.5416ms
2024-06-30 14:01:19.200 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/1 - application/json 83
2024-06-30 14:01:19.207 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:01:19.212 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:01:22.246 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:01:22.288 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 3073.5043ms
2024-06-30 14:01:22.290 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:01:22.312 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"You can only access your own entities.","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 52\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 36\r\n   at Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 43\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:01:22.3122532Z","$type":"ErrorDetails"}
2024-06-30 14:01:22.320 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/1 - 500 null application/json 3120.5823ms
2024-06-30 14:01:34.702 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7259/api/Note/1 - null null
2024-06-30 14:01:34.705 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync (Alisverislio_Task)'
2024-06-30 14:01:34.709 +03:00 [INF] Route matched with {action = "DeleteNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteNoteAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:01:34.715 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:01:34.783 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync (Alisverislio_Task) in 71.4098ms
2024-06-30 14:01:34.786 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync (Alisverislio_Task)'
2024-06-30 14:01:34.826 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"You can only access your own entities.","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 52\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.DeleteNoteAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 48\r\n   at Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 52\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:01:34.8261545Z","$type":"ErrorDetails"}
2024-06-30 14:01:34.837 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7259/api/Note/1 - 500 null application/json 136.1483ms
2024-06-30 14:01:59.721 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/1 - application/json 83
2024-06-30 14:01:59.729 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:01:59.730 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:01:59.735 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:01:59.823 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [BookId] = @p0, [Content] = @p1, [UserId] = @p2, [Visibility] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-30 14:01:59.842 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Notes_Books_BookId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Books", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Notes_Books_BookId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Books", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 14:01:59.956 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 224.5329ms
2024-06-30 14:01:59.957 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:02:00.007 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 42\r\n   at Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 43\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:02:00.0077352Z","$type":"ErrorDetails"}
2024-06-30 14:02:00.022 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/1 - 500 null application/json 301.1604ms
2024-06-30 14:02:33.705 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/1 - application/json 83
2024-06-30 14:02:33.708 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:02:33.709 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:02:38.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:03:31.185 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [BookId] = @p0, [Content] = @p1, [UserId] = @p2, [Visibility] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-30 14:03:31.192 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Notes_Books_BookId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Books", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Notes_Books_BookId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Books", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 14:03:31.294 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 57583.8299ms
2024-06-30 14:03:31.296 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:03:31.320 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 42\r\n   at Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 43\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:03:31.3206023Z","$type":"ErrorDetails"}
2024-06-30 14:03:31.326 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/1 - 500 null application/json 57621.5216ms
2024-06-30 14:04:08.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:04:08.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 27.7949ms
2024-06-30 14:04:08.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:04:08.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.6556ms
2024-06-30 14:04:08.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:04:08.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.6135ms
2024-06-30 14:04:08.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:04:08.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.1607ms
2024-06-30 14:04:34.465 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/1 - application/json 82
2024-06-30 14:04:34.472 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:04:34.480 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:04:36.812 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:05:01.417 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [BookId] = @p0, [Content] = @p1, [UserId] = @p2, [Visibility] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-30 14:05:01.423 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 14:05:01.426 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 26943.9243ms
2024-06-30 14:05:01.426 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:05:01.431 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/1 - 200 null application/json; charset=utf-8 26966.9358ms
2024-06-30 14:05:36.187 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:05:36.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 17.7014ms
2024-06-30 14:05:36.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:05:36.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:05:36.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.5306ms
2024-06-30 14:05:36.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.9357ms
2024-06-30 14:05:36.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:05:36.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.0491ms
2024-06-30 14:06:06.664 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/1 - application/json 81
2024-06-30 14:06:06.671 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:06:06.679 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:06:10.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:06:12.400 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 5717.7315ms
2024-06-30 14:06:12.401 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:06:12.421 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'Note.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync()\r\n   at Alisverislio_Task.BLL.ConcreteServices.NoteService.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\NoteService.cs:line 42\r\n   at Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync(Int32 id, NoteDto noteDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\NoteController.cs:line 43\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:06:12.4212552Z","$type":"ErrorDetails"}
2024-06-30 14:06:12.436 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/1 - 500 null application/json 5772.0458ms
2024-06-30 14:06:20.200 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/Note/1 - application/json 81
2024-06-30 14:06:20.204 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:06:20.206 +03:00 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNoteAsync(Int32, Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:06:20.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:06:20.216 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [BookId] = @p0, [Content] = @p1, [UserId] = @p2, [Visibility] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-30 14:06:20.218 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 14:06:20.220 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task) in 12.3754ms
2024-06-30 14:06:20.223 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.UpdateNoteAsync (Alisverislio_Task)'
2024-06-30 14:06:20.226 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/Note/1 - 200 null application/json; charset=utf-8 26.0909ms
2024-06-30 14:06:41.556 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7259/api/Note/1 - null null
2024-06-30 14:06:41.559 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync (Alisverislio_Task)'
2024-06-30 14:06:41.563 +03:00 [INF] Route matched with {action = "DeleteNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteNoteAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:06:41.568 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:06:41.593 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Notes]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-30 14:06:41.600 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-06-30 14:06:41.601 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync (Alisverislio_Task) in 36.5313ms
2024-06-30 14:06:41.602 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.DeleteNoteAsync (Alisverislio_Task)'
2024-06-30 14:06:41.604 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7259/api/Note/1 - 200 0 null 48.6356ms
2024-06-30 14:07:03.179 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Purchase/purchase - application/json 32
2024-06-30 14:07:03.185 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.PurchaseController.PurchaseBook (Alisverislio_Task)'
2024-06-30 14:07:03.189 +03:00 [INF] Route matched with {action = "PurchaseBook", controller = "Purchase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PurchaseBook(Alisverislio_Task.BLL.Dtos.PurchaseDto) on controller Alisverislio_Task.Controllers.PurchaseController (Alisverislio_Task).
2024-06-30 14:07:03.227 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Purchases] ([BookId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-30 14:07:03.240 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.PurchaseDto'.
2024-06-30 14:07:03.243 +03:00 [INF] Executed action Alisverislio_Task.Controllers.PurchaseController.PurchaseBook (Alisverislio_Task) in 53.0844ms
2024-06-30 14:07:03.245 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.PurchaseController.PurchaseBook (Alisverislio_Task)'
2024-06-30 14:07:03.247 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Purchase/purchase - 200 null application/json; charset=utf-8 68.3254ms
2024-06-30 14:07:26.463 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Note - application/json 85
2024-06-30 14:07:26.471 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 14:07:26.475 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:07:26.492 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notes] ([BookId], [Content], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-06-30 14:07:26.498 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 14:07:26.500 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 21.8559ms
2024-06-30 14:07:26.502 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 14:07:26.504 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Note - 200 null application/json; charset=utf-8 41.7726ms
2024-06-30 14:07:53.788 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:07:53.795 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:07:53.799 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:07:53.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:07:53.819 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-30 14:07:53.821 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 20.359ms
2024-06-30 14:07:53.823 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:07:53.825 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 400 null text/plain; charset=utf-8 37.8449ms
2024-06-30 14:07:58.763 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:07:58.767 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:07:58.769 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:07:58.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:07:58.786 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shares] ([NoteId], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-30 14:07:58.791 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 14:07:58.890 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 118.2943ms
2024-06-30 14:07:58.891 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:07:58.944 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync()\r\n   at Alisverislio_Task.BLL.ConcreteServices.ShareService.ShareNoteAsync(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\ShareService.cs:line 34\r\n   at Alisverislio_Task.Controllers.ShareController.ShareNote(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\ShareController.cs:line 27\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:07:58.9443480Z","$type":"ErrorDetails"}
2024-06-30 14:07:58.950 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 500 null application/json 187.3295ms
2024-06-30 14:08:33.223 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:08:33.228 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:08:33.230 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:08:39.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:08:44.936 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shares] ([NoteId], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-30 14:08:44.948 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 14:08:45.026 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 11793.2537ms
2024-06-30 14:08:45.029 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:08:45.057 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync()\r\n   at Alisverislio_Task.BLL.ConcreteServices.ShareService.ShareNoteAsync(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\ShareService.cs:line 34\r\n   at Alisverislio_Task.Controllers.ShareController.ShareNote(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\ShareController.cs:line 27\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:08:45.0578586Z","$type":"ErrorDetails"}
2024-06-30 14:08:45.102 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 500 null application/json 11879.7223ms
2024-06-30 14:09:30.065 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:09:32.342 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:09:32.344 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:09:48.143 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:09:51.478 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shares] ([NoteId], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-30 14:09:51.500 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 14:09:51.582 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 19236.7817ms
2024-06-30 14:09:51.584 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:09:51.610 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync()\r\n   at Alisverislio_Task.BLL.ConcreteServices.ShareService.ShareNoteAsync(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\ShareService.cs:line 34\r\n   at Alisverislio_Task.Controllers.ShareController.ShareNote(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\ShareController.cs:line 27\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:09:51.6101596Z","$type":"ErrorDetails"}
2024-06-30 14:09:51.617 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 500 null application/json 21551.5694ms
2024-06-30 14:10:42.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:10:42.769 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 19.2381ms
2024-06-30 14:10:42.837 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:10:42.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.5513ms
2024-06-30 14:10:42.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:10:42.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5366ms
2024-06-30 14:10:42.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:10:42.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.0282ms
2024-06-30 14:10:57.490 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:10:57.494 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 14:10:57.499 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 14:10:57.501 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 401 0 null 10.427ms
2024-06-30 14:11:08.501 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:11:08.506 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:11:08.511 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:11:14.708 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:11:34.053 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shares] ([NoteId], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-30 14:11:34.066 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Alisverislio_Task.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Shares_Notes_NoteId". The conflict occurred in database "KitaplikArsivSatisDB", table "dbo.Notes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7f73385a-a584-4b47-a892-3d8e9a363b28
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-30 14:11:34.149 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 25635.8722ms
2024-06-30 14:11:34.151 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:11:34.187 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"An error occurred while saving the entity changes. See the inner exception for details.","StackTrace":"   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync()\r\n   at Alisverislio_Task.BLL.ConcreteServices.ShareService.ShareNoteAsync(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\ShareService.cs:line 34\r\n   at Alisverislio_Task.Controllers.ShareController.ShareNote(ShareDto shareDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\ShareController.cs:line 27\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:11:34.1873392Z","$type":"ErrorDetails"}
2024-06-30 14:11:34.193 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 500 null application/json 25692.1027ms
2024-06-30 14:14:37.077 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:14:37.206 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:14:37.207 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:14:37.228 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:14:37.229 +03:00 [INF] Hosting environment: Development
2024-06-30 14:14:37.230 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:14:37.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:14:37.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.2188ms
2024-06-30 14:14:37.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:14:37.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.1832ms
2024-06-30 14:14:37.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:14:37.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.7946ms
2024-06-30 14:14:37.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:14:38.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.6359ms
2024-06-30 14:14:53.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:14:53.894 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:14:53.914 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:14:55.213 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:14:55.294 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:14:55.324 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 14:14:55.331 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1410.5323ms
2024-06-30 14:14:55.333 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:14:55.339 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1458.446ms
2024-06-30 14:15:18.844 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:15:18.890 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:15:18.897 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:15:24.439 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:15:24.554 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shares] ([NoteId], [UserId], [Visibility])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-30 14:15:24.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.ShareDto'.
2024-06-30 14:15:24.580 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 5681.4597ms
2024-06-30 14:15:24.582 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:15:24.584 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 200 null application/json; charset=utf-8 5741.1698ms
2024-06-30 14:15:54.577 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Share/share - application/json 77
2024-06-30 14:15:54.583 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:15:54.584 +03:00 [INF] Route matched with {action = "ShareNote", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShareNote(Alisverislio_Task.BLL.Dtos.ShareDto) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:15:56.549 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BookId], [p].[UserId]
FROM [Purchases] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[BookId] = @__bookId_1
2024-06-30 14:15:56.553 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-06-30 14:15:56.555 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task) in 1969.1745ms
2024-06-30 14:15:56.556 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.ShareNote (Alisverislio_Task)'
2024-06-30 14:15:56.558 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Share/share - 400 null text/plain; charset=utf-8 1981.0871ms
2024-06-30 14:16:26.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/usernotes - null null
2024-06-30 14:16:26.014 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 14:16:26.019 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:16:26.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:16:26.078 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_1 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0)
2024-06-30 14:16:26.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 14:16:26.084 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 62.9588ms
2024-06-30 14:16:26.086 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 14:16:26.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/usernotes - 200 null application/json; charset=utf-8 81.1215ms
2024-06-30 14:16:32.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/bybook/1 - null null
2024-06-30 14:16:32.204 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 14:16:32.208 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:16:32.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND ([n].[Visibility] <> 1 OR [n].[UserId] = @__userId_1)
2024-06-30 14:16:32.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:16:32.251 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 14:16:32.253 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 41.2072ms
2024-06-30 14:16:32.255 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 14:16:32.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/bybook/1 - 200 null application/json; charset=utf-8 57.7302ms
2024-06-30 14:16:35.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/bybook/2 - null null
2024-06-30 14:16:35.968 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 14:16:35.969 +03:00 [INF] Route matched with {action = "GetNotesByBookId", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesByBookIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:16:35.977 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[BookId] = @__bookId_0 AND ([n].[Visibility] <> 1 OR [n].[UserId] = @__userId_1)
2024-06-30 14:16:35.982 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:16:35.986 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 14:16:35.988 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task) in 15.7695ms
2024-06-30 14:16:35.989 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNotesByBookIdAsync (Alisverislio_Task)'
2024-06-30 14:16:35.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/bybook/2 - 200 null application/json; charset=utf-8 25.968ms
2024-06-30 14:16:53.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Note/2 - null null
2024-06-30 14:16:53.918 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 14:16:53.922 +03:00 [INF] Route matched with {action = "GetNoteById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNoteByIdAsync(Int32) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 14:16:56.780 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-06-30 14:16:56.785 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.NoteDto'.
2024-06-30 14:16:56.786 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task) in 2862.4449ms
2024-06-30 14:16:56.788 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetNoteByIdAsync (Alisverislio_Task)'
2024-06-30 14:16:56.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Note/2 - 200 null application/json; charset=utf-8 2874.6872ms
2024-06-30 14:18:13.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/User/profile - null null
2024-06-30 14:18:13.010 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 14:18:13.014 +03:00 [INF] Route matched with {action = "GetProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:18:13.027 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:18:13.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 14:18:13.039 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task) in 22.8126ms
2024-06-30 14:18:13.041 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 14:18:13.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 40.88ms
2024-06-30 14:18:42.321 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 136
2024-06-30 14:18:42.328 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:18:42.332 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:18:42.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:18:42.405 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 70.6221ms
2024-06-30 14:18:42.407 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:18:42.461 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 84\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:18:42.4611421Z","$type":"ErrorDetails"}
2024-06-30 14:18:42.540 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 219.0086ms
2024-06-30 14:18:48.660 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 136
2024-06-30 14:18:48.663 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:18:48.664 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:18:48.669 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:18:48.693 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 14:18:48.698 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 14:18:48.700 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 34.9105ms
2024-06-30 14:18:48.702 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:18:48.704 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 44.5052ms
2024-06-30 14:20:54.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:20:54.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 26.2877ms
2024-06-30 14:20:54.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:20:54.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.4593ms
2024-06-30 14:20:54.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:20:54.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.3409ms
2024-06-30 14:20:54.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:20:54.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.3008ms
2024-06-30 14:21:23.371 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 45
2024-06-30 14:21:23.374 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:23.383 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:21:23.390 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:21:23.393 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 14:21:23.394 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 9.5555ms
2024-06-30 14:21:23.396 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:23.398 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 401 null text/plain; charset=utf-8 27.2367ms
2024-06-30 14:21:27.173 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:21:27.178 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:27.179 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:21:27.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:21:27.188 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 14:21:27.190 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 8.4914ms
2024-06-30 14:21:27.192 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:27.194 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 401 null text/plain; charset=utf-8 20.6338ms
2024-06-30 14:21:41.044 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:21:41.047 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:41.048 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:21:41.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:21:41.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:21:41.152 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 101.7662ms
2024-06-30 14:21:41.153 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:41.201 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user)\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:21:41.2010304Z","$type":"ErrorDetails"}
2024-06-30 14:21:41.205 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 161.4325ms
2024-06-30 14:21:54.425 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:21:54.428 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:54.429 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:21:54.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:21:54.439 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:21:54.514 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 82.7197ms
2024-06-30 14:21:54.515 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:21:54.559 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user)\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:21:54.5597427Z","$type":"ErrorDetails"}
2024-06-30 14:21:54.566 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 141.8497ms
2024-06-30 14:23:54.876 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:23:54.882 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:23:54.883 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:23:56.936 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:24:06.513 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:24:06.587 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 11701.2942ms
2024-06-30 14:24:06.588 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:24:06.613 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user)\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:24:06.6131287Z","$type":"ErrorDetails"}
2024-06-30 14:24:06.617 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 11741.165ms
2024-06-30 14:24:46.868 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 132
2024-06-30 14:24:48.963 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:24:48.968 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:24:48.976 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:24:49.009 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 39.7112ms
2024-06-30 14:24:49.011 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:24:49.045 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto)\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:24:49.0455382Z","$type":"ErrorDetails"}
2024-06-30 14:24:49.060 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 2192.9207ms
2024-06-30 14:24:55.688 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 132
2024-06-30 14:24:55.691 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:24:55.692 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:24:55.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:24:55.742 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 48.7666ms
2024-06-30 14:24:55.743 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:24:55.786 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto)\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:24:55.7861123Z","$type":"ErrorDetails"}
2024-06-30 14:24:55.790 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 102.5827ms
2024-06-30 14:25:10.307 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 132
2024-06-30 14:25:10.310 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:25:10.311 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:25:10.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:25:10.327 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 14:25:10.329 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 14:25:10.332 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 20.0127ms
2024-06-30 14:25:10.334 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:25:10.338 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 32.0354ms
2024-06-30 14:27:55.862 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:27:56.012 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:27:56.013 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:27:56.036 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:27:56.037 +03:00 [INF] Hosting environment: Development
2024-06-30 14:27:56.038 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:27:56.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:27:56.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.9097ms
2024-06-30 14:27:56.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:27:56.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:27:56.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.2902ms
2024-06-30 14:27:56.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0768ms
2024-06-30 14:27:56.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:27:56.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.7333ms
2024-06-30 14:28:03.673 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:28:03.685 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:28:03.706 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:28:07.754 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:28:13.003 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:28:13.074 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 9362.7662ms
2024-06-30 14:28:13.076 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:28:13.115 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 119\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:28:13.1147999Z","$type":"ErrorDetails"}
2024-06-30 14:28:13.194 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 9521.2879ms
2024-06-30 14:31:32.603 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:31:32.734 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:31:32.735 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:31:32.760 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:31:32.761 +03:00 [INF] Hosting environment: Development
2024-06-30 14:31:32.762 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:31:33.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:31:33.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.1193ms
2024-06-30 14:31:33.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:31:33.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:31:33.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.9663ms
2024-06-30 14:31:33.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5817ms
2024-06-30 14:31:33.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:31:33.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.2021ms
2024-06-30 14:31:42.846 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:31:42.858 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:31:42.879 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:31:48.741 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 5855.8375ms
2024-06-30 14:31:48.746 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:31:53.594 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"User is not authenticated","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetCurrentUserId() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 39\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.FirstOrDefault(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 139\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 55\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 40\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:31:53.5942934Z","$type":"ErrorDetails"}
2024-06-30 14:31:56.470 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 13623.9306ms
2024-06-30 14:33:35.926 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:33:36.054 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:33:36.056 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:33:36.076 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:33:36.078 +03:00 [INF] Hosting environment: Development
2024-06-30 14:33:36.078 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:33:36.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:33:36.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.507ms
2024-06-30 14:33:36.603 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:33:36.603 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:33:36.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 13.0307ms
2024-06-30 14:33:36.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.6974ms
2024-06-30 14:33:36.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:33:36.716 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.5052ms
2024-06-30 14:33:44.471 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:33:44.610 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:33:44.612 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:33:44.634 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:33:44.635 +03:00 [INF] Hosting environment: Development
2024-06-30 14:33:44.636 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:33:45.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:33:45.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.1553ms
2024-06-30 14:33:45.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:33:45.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.4572ms
2024-06-30 14:33:45.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:33:45.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7322ms
2024-06-30 14:33:45.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:33:45.412 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.6288ms
2024-06-30 14:33:53.263 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:33:53.275 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:33:53.295 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:33:55.924 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:33:56.007 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:33:56.103 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 2800.5137ms
2024-06-30 14:33:56.105 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:33:56.176 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 119\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:33:56.1758711Z","$type":"ErrorDetails"}
2024-06-30 14:33:56.263 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 3000.3265ms
2024-06-30 14:34:29.640 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 44
2024-06-30 14:34:29.647 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:34:29.648 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:34:31.154 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000), @__HashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0 AND [u].[Password] = @__HashPassword_1
2024-06-30 14:34:31.160 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:34:31.199 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1550.0342ms
2024-06-30 14:34:31.201 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:34:31.220 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 119\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:34:31.2202010Z","$type":"ErrorDetails"}
2024-06-30 14:34:31.226 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 1589.9894ms
2024-06-30 14:35:19.346 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:35:19.486 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:35:19.488 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:35:19.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:35:19.515 +03:00 [INF] Hosting environment: Development
2024-06-30 14:35:19.517 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:35:20.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:35:20.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 142.3804ms
2024-06-30 14:35:20.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:35:20.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:35:20.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.8005ms
2024-06-30 14:35:20.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.416ms
2024-06-30 14:35:20.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:35:20.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.0669ms
2024-06-30 14:35:27.208 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 14:35:27.221 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:35:27.239 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:35:29.728 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 14:35:29.812 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:35:29.906 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 2660.6542ms
2024-06-30 14:35:29.908 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:35:29.980 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 124\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:35:29.9797693Z","$type":"ErrorDetails"}
2024-06-30 14:35:30.063 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 2854.9472ms
2024-06-30 14:36:47.232 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:36:47.374 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:36:47.375 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:36:47.397 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:36:47.398 +03:00 [INF] Hosting environment: Development
2024-06-30 14:36:47.399 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:36:47.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:36:48.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 155.4775ms
2024-06-30 14:36:48.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:36:48.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:36:48.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.1517ms
2024-06-30 14:36:48.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.0128ms
2024-06-30 14:36:48.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:36:48.316 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.4024ms
2024-06-30 14:37:01.333 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 44
2024-06-30 14:37:01.344 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:37:01.364 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:37:04.932 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 14:37:54.649 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:37:54.715 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 53347.2879ms
2024-06-30 14:37:54.717 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:37:54.753 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 124\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:37:54.7526821Z","$type":"ErrorDetails"}
2024-06-30 14:37:54.840 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 53507.7221ms
2024-06-30 14:38:16.988 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 44
2024-06-30 14:38:16.995 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:38:16.997 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:38:18.161 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 14:38:22.768 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Name_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0 AND [u].[Email] = @__user_Email_1
2024-06-30 14:38:22.832 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 5832.1785ms
2024-06-30 14:38:22.834 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:38:22.856 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Sequence contains more than one element.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UserRepository.SingleOrDefaultAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UserRepository.cs:line 35\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.GenerateJwtToken(UserDto user) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 124\r\n   at Alisverislio_Task.Controllers.UserController.Login(LoginDto loginDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 44\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:38:22.8560080Z","$type":"ErrorDetails"}
2024-06-30 14:38:22.868 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 500 null application/json 5880.7164ms
2024-06-30 14:38:47.052 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 14:38:47.184 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 14:38:47.185 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 14:38:47.206 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 14:38:47.208 +03:00 [INF] Hosting environment: Development
2024-06-30 14:38:47.209 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 14:38:47.598 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 14:38:47.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.8731ms
2024-06-30 14:38:47.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 14:38:47.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 14:38:47.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.4744ms
2024-06-30 14:38:47.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4426ms
2024-06-30 14:38:47.853 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 14:38:47.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.732ms
2024-06-30 14:38:55.957 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 44
2024-06-30 14:38:55.970 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:38:55.989 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:38:58.585 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 14:38:59.596 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 14:38:59.616 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 14:38:59.623 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 3626.9722ms
2024-06-30 14:38:59.624 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 14:38:59.629 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 3672.4408ms
2024-06-30 14:50:40.983 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/User/profile - null null
2024-06-30 14:50:41.029 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 14:50:41.035 +03:00 [INF] Route matched with {action = "GetProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:50:41.134 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:50:41.137 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 14:50:41.142 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task) in 102.0117ms
2024-06-30 14:50:41.143 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 14:50:41.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 160.8786ms
2024-06-30 14:51:00.485 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 132
2024-06-30 14:51:00.489 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:51:00.493 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:51:00.518 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:51:00.595 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 98.4465ms
2024-06-30 14:51:00.596 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:51:00.649 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 94\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:51:00.6484281Z","$type":"ErrorDetails"}
2024-06-30 14:51:00.736 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 250.5784ms
2024-06-30 14:51:07.283 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 121
2024-06-30 14:51:07.286 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:51:07.288 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:51:07.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:51:07.336 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 46.2708ms
2024-06-30 14:51:07.338 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:51:07.370 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 94\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:51:07.3709454Z","$type":"ErrorDetails"}
2024-06-30 14:51:07.378 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 94.7983ms
2024-06-30 14:51:15.989 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 132
2024-06-30 14:51:15.993 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:51:15.994 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:51:15.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:51:16.063 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 14:51:16.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 14:51:16.079 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 83.4429ms
2024-06-30 14:51:16.081 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:51:16.082 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 92.8007ms
2024-06-30 14:52:13.741 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 132
2024-06-30 14:52:13.747 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:52:13.748 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 14:52:13.753 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:52:13.770 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 14:52:13.773 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 14:52:13.776 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 25.568ms
2024-06-30 14:52:13.778 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 14:52:13.779 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 38.9688ms
2024-06-30 14:53:19.948 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Share/usershares - null null
2024-06-30 14:53:19.959 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.GetUserSharesAsync (Alisverislio_Task)'
2024-06-30 14:53:19.963 +03:00 [INF] Route matched with {action = "GetUserShares", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSharesAsync() on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:53:19.977 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:53:20.048 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[NoteId], [s].[UserId], [s].[Visibility]
FROM [Shares] AS [s]
WHERE ([s].[UserId] = @__userId_0 OR [s].[Visibility] = 0) AND ([s].[UserId] = @__userId_1 OR [s].[Visibility] = 0)
2024-06-30 14:53:20.051 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.ShareDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 14:53:20.055 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.GetUserSharesAsync (Alisverislio_Task) in 89.3913ms
2024-06-30 14:53:20.057 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.GetUserSharesAsync (Alisverislio_Task)'
2024-06-30 14:53:20.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Share/usershares - 200 null application/json; charset=utf-8 109.7798ms
2024-06-30 14:53:40.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Share/note/1 - null null
2024-06-30 14:53:40.028 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.GetSharesByNoteId (Alisverislio_Task)'
2024-06-30 14:53:40.033 +03:00 [INF] Route matched with {action = "GetSharesByNoteId", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSharesByNoteId(Int32) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:53:40.073 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__noteId_0='?' (DbType = Int32), @__loggedInUserId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[NoteId], [s].[UserId], [s].[Visibility]
FROM [Shares] AS [s]
WHERE ([s].[NoteId] = @__noteId_0 AND [s].[UserId] = @__loggedInUserId_1) OR [s].[Visibility] = 0
2024-06-30 14:53:40.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:53:40.099 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.ShareDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 14:53:40.100 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.GetSharesByNoteId (Alisverislio_Task) in 64.1377ms
2024-06-30 14:53:40.102 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.GetSharesByNoteId (Alisverislio_Task)'
2024-06-30 14:53:40.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Share/note/1 - 200 null application/json; charset=utf-8 79.3709ms
2024-06-30 14:54:31.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Share/get/1 - null null
2024-06-30 14:54:31.887 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.GetShareById (Alisverislio_Task)'
2024-06-30 14:54:31.891 +03:00 [INF] Route matched with {action = "GetShareById", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShareById(Int32) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:54:31.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[NoteId], [s].[UserId], [s].[Visibility]
FROM [Shares] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-30 14:54:53.492 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.GetShareById (Alisverislio_Task) in 21599.5321ms
2024-06-30 14:54:53.494 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.GetShareById (Alisverislio_Task)'
2024-06-30 14:54:54.205 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Object reference not set to an instance of an object.","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetByIdAsync(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 48\r\n   at Alisverislio_Task.BLL.ConcreteServices.ShareService.GetShareByIdAsync(Int32 userId, Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\ShareService.cs:line 40\r\n   at Alisverislio_Task.Controllers.ShareController.GetShareById(Int32 id) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\ShareController.cs:line 38\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T11:54:54.2053473Z","$type":"ErrorDetails"}
2024-06-30 14:54:54.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Share/get/1 - 500 null application/json 22334.8116ms
2024-06-30 14:54:59.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Share/get/5 - null null
2024-06-30 14:54:59.471 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.GetShareById (Alisverislio_Task)'
2024-06-30 14:54:59.472 +03:00 [INF] Route matched with {action = "GetShareById", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShareById(Int32) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:54:59.477 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[NoteId], [s].[UserId], [s].[Visibility]
FROM [Shares] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-30 14:54:59.484 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.ShareDto'.
2024-06-30 14:54:59.486 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.GetShareById (Alisverislio_Task) in 12.7474ms
2024-06-30 14:54:59.488 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.GetShareById (Alisverislio_Task)'
2024-06-30 14:54:59.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Share/get/5 - 200 null application/json; charset=utf-8 21.4547ms
2024-06-30 14:55:43.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/Share/user/2 - null null
2024-06-30 14:55:43.227 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.ShareController.GetSharesByUserId (Alisverislio_Task)'
2024-06-30 14:55:43.231 +03:00 [INF] Route matched with {action = "GetSharesByUserId", controller = "Share"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSharesByUserId(Int32) on controller Alisverislio_Task.Controllers.ShareController (Alisverislio_Task).
2024-06-30 14:55:43.240 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__loggedInUserId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[NoteId], [s].[UserId], [s].[Visibility]
FROM [Shares] AS [s]
WHERE ([s].[UserId] = @__userId_0 AND [s].[UserId] = @__loggedInUserId_1) OR [s].[Visibility] = 0
2024-06-30 14:55:43.244 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 14:55:43.248 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.ShareDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 14:55:43.249 +03:00 [INF] Executed action Alisverislio_Task.Controllers.ShareController.GetSharesByUserId (Alisverislio_Task) in 17.2222ms
2024-06-30 14:55:43.251 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.ShareController.GetSharesByUserId (Alisverislio_Task)'
2024-06-30 14:55:43.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/Share/user/2 - 200 null application/json; charset=utf-8 36.5699ms
2024-06-30 15:02:41.123 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 15:02:41.307 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 15:02:41.308 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 15:02:41.334 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 15:02:41.335 +03:00 [INF] Hosting environment: Development
2024-06-30 15:02:41.337 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 15:02:41.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 15:02:42.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 157.0572ms
2024-06-30 15:02:42.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 15:02:42.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 15:02:42.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.7541ms
2024-06-30 15:02:42.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.6856ms
2024-06-30 15:02:42.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 15:02:42.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.8108ms
2024-06-30 15:03:01.470 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 15:03:01.483 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 15:03:01.502 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:03:05.322 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 15:03:07.812 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 15:03:07.836 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 15:03:07.842 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 6333.1234ms
2024-06-30 15:03:07.845 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 15:03:07.851 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 6380.2943ms
2024-06-30 15:03:35.348 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 135
2024-06-30 15:03:35.387 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:03:35.394 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:03:35.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 15:03:35.559 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 162.4994ms
2024-06-30 15:03:35.561 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:03:35.614 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 97\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:03:35.6132641Z","$type":"ErrorDetails"}
2024-06-30 15:03:35.692 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 344.2528ms
2024-06-30 15:03:46.583 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 125
2024-06-30 15:03:46.586 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:03:46.588 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:03:46.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 15:03:46.646 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 56.3424ms
2024-06-30 15:03:46.647 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:03:46.678 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 97\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:03:46.6783278Z","$type":"ErrorDetails"}
2024-06-30 15:03:46.685 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 103.2766ms
2024-06-30 15:03:54.335 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 135
2024-06-30 15:03:54.339 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:03:54.342 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:03:54.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 15:03:54.407 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 15:03:54.418 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 15:03:54.423 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 78.9426ms
2024-06-30 15:03:54.424 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:03:54.426 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 90.9461ms
2024-06-30 15:04:08.462 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 135
2024-06-30 15:04:08.465 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:04:08.466 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:04:08.471 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 15:04:08.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 15:04:08.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 15:04:08.482 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 14.5366ms
2024-06-30 15:04:08.484 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:04:08.485 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 23.6033ms
2024-06-30 15:04:19.227 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7259/api/User/profile - application/json 135
2024-06-30 15:04:19.230 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:04:19.231 +03:00 [INF] Route matched with {action = "UpdateProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:04:19.236 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 15:04:19.279 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task) in 46.2111ms
2024-06-30 15:04:19.281 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateProfile (Alisverislio_Task)'
2024-06-30 15:04:19.314 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The property 'User.Id' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.","StackTrace":"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetPropertyModified(IProperty property, Boolean changeState, Boolean isModified, Boolean isConceptualNull, Boolean acceptChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectValueChange(InternalEntityEntry entry, IProperty property)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.UnitOfWork.CompleteAsync() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\UnitOfWork.cs:line 37\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.UpdateProfileAsync(Int32 userId, UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 97\r\n   at Alisverislio_Task.Controllers.UserController.UpdateProfile(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:04:19.3146290Z","$type":"ErrorDetails"}
2024-06-30 15:04:19.319 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7259/api/User/profile - 500 null application/json 92.3374ms
2024-06-30 15:06:17.452 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 15:06:17.460 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 15:06:17.461 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:06:17.467 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 15:06:17.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 15:06:17.480 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 15:06:17.482 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 18.8559ms
2024-06-30 15:06:17.483 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 15:06:17.485 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 34.0817ms
2024-06-30 15:06:45.535 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 132
2024-06-30 15:06:45.543 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:06:45.547 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:06:45.617 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 66.8611ms
2024-06-30 15:06:45.618 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:06:45.656 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"Translation of 'EF.Property<int>(StructuralTypeShaperExpression: \r\n    Alisverislio_Task.DAL.Entities.User\r\n    ValueBufferExpression: \r\n        ProjectionBindingExpression: EmptyProjectionMember\r\n    IsNullable: False\r\n, \"UserId\")' failed. Either the query source is not an entity type, or the specified property does not exist on the entity type.","StackTrace":"   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Query.Internal.SqlServerSqlTranslatingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.TranslateInternal(Expression expression, Boolean applyDefaultTypeMapping)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalSqlTranslatingExpressionVisitor.Translate(Expression expression, Boolean applyDefaultTypeMapping)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateExpression(Expression expression, Boolean applyDefaultTypeMapping)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateLambdaExpression(ShapedQueryExpression shapedQueryExpression, LambdaExpression lambdaExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateWhere(ShapedQueryExpression source, LambdaExpression predicate)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 38\r\n   at Alisverislio_Task.Controllers.UserController.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 30\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:06:45.6565685Z","$type":"ErrorDetails"}
2024-06-30 15:06:45.669 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 500 null application/json 134.7515ms
2024-06-30 15:07:28.765 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 15:07:28.895 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 15:07:28.896 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 15:07:28.918 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 15:07:28.919 +03:00 [INF] Hosting environment: Development
2024-06-30 15:07:28.920 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 15:07:29.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 15:07:29.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.716ms
2024-06-30 15:07:29.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 15:07:29.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 15:07:29.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 17.5308ms
2024-06-30 15:07:29.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.5843ms
2024-06-30 15:07:29.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 15:07:29.723 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.7375ms
2024-06-30 15:07:36.940 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 132
2024-06-30 15:07:36.952 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:07:36.972 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:07:37.310 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 330.9523ms
2024-06-30 15:07:37.312 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:07:37.357 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"User is not authenticated","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetCurrentUserId() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 39\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.FindAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 66\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 37\r\n   at Alisverislio_Task.Controllers.UserController.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 30\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:07:37.3567843Z","$type":"ErrorDetails"}
2024-06-30 15:07:37.447 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 500 null application/json 507.3045ms
2024-06-30 15:08:41.790 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 132
2024-06-30 15:08:41.799 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:08:41.800 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:08:45.244 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 3442.1363ms
2024-06-30 15:08:45.250 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:08:47.807 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"User is not authenticated","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetCurrentUserId() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 39\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.FindAsync(Expression`1 predicate) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 66\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 37\r\n   at Alisverislio_Task.Controllers.UserController.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 30\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:08:47.8071383Z","$type":"ErrorDetails"}
2024-06-30 15:08:49.161 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 500 null application/json 7370.3721ms
2024-06-30 15:08:51.457 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 132
2024-06-30 15:08:51.461 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:08:51.463 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:09:11.221 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 15:09:11.356 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 15:09:11.358 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 15:09:11.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 15:09:11.380 +03:00 [INF] Hosting environment: Development
2024-06-30 15:09:11.381 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 15:09:11.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 15:09:11.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.113ms
2024-06-30 15:09:12.008 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 15:09:12.008 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 15:09:12.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.6002ms
2024-06-30 15:09:12.035 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7832ms
2024-06-30 15:09:12.062 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 15:09:12.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.5192ms
2024-06-30 15:09:19.884 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 131
2024-06-30 15:09:19.897 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:09:19.918 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:09:22.760 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userDto_Username_0
2024-06-30 15:09:25.180 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 5258.0194ms
2024-06-30 15:09:25.183 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:09:25.222 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"User is not authenticated","StackTrace":"   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.GetCurrentUserId() in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 39\r\n   at Alisverislio_Task.DAL.ConcreteRepositories.Repository`1.AddAsync(TEntity entity) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.DAL\\ConcreteRepositories\\Repository.cs:line 72\r\n   at Alisverislio_Task.BLL.ConcreteServices.UserService.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task.BLL\\ConcreteServices\\UserService.cs:line 44\r\n   at Alisverislio_Task.Controllers.UserController.Register(UserDto userDto) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Controllers\\UserController.cs:line 30\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T12:09:25.2217063Z","$type":"ErrorDetails"}
2024-06-30 15:09:25.306 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 500 null application/json 5422.189ms
2024-06-30 15:13:55.983 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 15:13:56.146 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 15:13:56.147 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 15:13:56.173 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 15:13:56.174 +03:00 [INF] Hosting environment: Development
2024-06-30 15:13:56.175 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 15:13:56.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 15:13:56.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.6127ms
2024-06-30 15:13:56.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 15:13:56.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.3293ms
2024-06-30 15:13:56.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 15:13:56.868 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1757ms
2024-06-30 15:13:56.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 15:13:56.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.7383ms
2024-06-30 15:14:05.985 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 43
2024-06-30 15:14:05.997 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 15:14:06.017 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:14:07.357 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 15:14:07.383 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 15:14:07.388 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1364.7832ms
2024-06-30 15:14:07.390 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 15:14:07.396 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 401 null text/plain; charset=utf-8 1411.3831ms
2024-06-30 15:14:14.893 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/register - application/json 131
2024-06-30 15:14:14.898 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:14:14.903 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Alisverislio_Task.BLL.Dtos.UserDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 15:14:18.841 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Role], [Surname], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 15:14:22.097 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 15:14:23.742 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task) in 8835.214ms
2024-06-30 15:14:23.744 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Register (Alisverislio_Task)'
2024-06-30 15:14:23.746 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/register - 200 null application/json; charset=utf-8 8852.4366ms
2024-06-30 16:10:19.720 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:10:19.727 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:10:19.731 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 16:10:19.732 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 401 0 null 12.1114ms
2024-06-30 16:10:37.373 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 16:10:37.377 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:10:37.379 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:10:37.407 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 16:10:37.415 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-06-30 16:10:37.417 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 35.6372ms
2024-06-30 16:10:37.419 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:10:37.421 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 401 null text/plain; charset=utf-8 47.2587ms
2024-06-30 16:10:49.483 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 16:10:49.487 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:10:49.488 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:10:49.493 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 16:10:49.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 16:10:49.529 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 16:10:49.533 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 42.3025ms
2024-06-30 16:10:49.535 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:10:49.536 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 52.6829ms
2024-06-30 16:11:06.150 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:11:06.154 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:11:06.155 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 16:11:06.157 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 401 0 null 7.2806ms
2024-06-30 16:11:58.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/api/User/profile - null null
2024-06-30 16:11:58.174 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 16:11:58.178 +03:00 [INF] Route matched with {action = "GetProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:11:58.193 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-06-30 16:11:58.203 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task) in 22.5628ms
2024-06-30 16:11:58.208 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 16:11:58.210 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/api/User/profile - 401 null application/problem+json; charset=utf-8 42.6001ms
2024-06-30 16:13:04.390 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/User/profile - application/json 91
2024-06-30 16:13:04.411 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 16:13:04.412 +03:00 [INF] Route matched with {action = "GetProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:13:04.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 16:13:04.433 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 16:13:04.435 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task) in 20.9347ms
2024-06-30 16:13:04.436 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.GetProfile (Alisverislio_Task)'
2024-06-30 16:13:04.438 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/User/profile - 200 null application/json; charset=utf-8 47.8291ms
2024-06-30 16:13:18.009 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:13:18.012 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:13:18.015 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:13:18.016 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 7.3431ms
2024-06-30 16:14:15.362 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:14:15.376 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:14:15.377 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:14:15.379 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 16.1984ms
2024-06-30 16:15:54.140 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:15:54.279 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:15:54.280 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:15:54.304 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:15:54.305 +03:00 [INF] Hosting environment: Development
2024-06-30 16:15:54.306 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:15:54.623 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:15:54.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 143.3119ms
2024-06-30 16:15:54.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:15:54.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:15:54.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.8019ms
2024-06-30 16:15:54.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7281ms
2024-06-30 16:15:54.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:15:54.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.1008ms
2024-06-30 16:15:56.211 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:15:56.297 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The AuthorizationPolicy named: 'UserRole.Admin' was not found.","StackTrace":"   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\\Users\\berka\\Desktop\\Alisverislio_Task\\Alisverislio_Task\\Middlewares\\ExceptionMiddleware.cs:line 21","LogTime":"2024-06-30T13:15:56.2966208Z","$type":"ErrorDetails"}
2024-06-30 16:15:56.357 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 500 null application/json 146.2401ms
2024-06-30 16:16:09.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:16:09.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 17.4832ms
2024-06-30 16:16:09.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:16:09.401 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:16:09.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.6281ms
2024-06-30 16:16:09.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.6193ms
2024-06-30 16:16:09.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:16:09.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.5073ms
2024-06-30 16:16:11.394 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:16:11.414 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The AuthorizationPolicy named: 'admin' was not found.","StackTrace":"   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext)","LogTime":"2024-06-30T13:16:11.4145908Z","$type":"ErrorDetails"}
2024-06-30 16:16:11.421 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 500 null application/json 26.4338ms
2024-06-30 16:16:16.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:16:16.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 14.6325ms
2024-06-30 16:16:16.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:16:16.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:16:16.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.9442ms
2024-06-30 16:16:16.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.9627ms
2024-06-30 16:16:16.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:16:16.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.0662ms
2024-06-30 16:16:19.169 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:16:19.193 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The AuthorizationPolicy named: 'Admin' was not found.","StackTrace":"   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext)","LogTime":"2024-06-30T13:16:19.1931009Z","$type":"ErrorDetails"}
2024-06-30 16:16:19.199 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 500 null application/json 29.7149ms
2024-06-30 16:17:45.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:17:45.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 14.5223ms
2024-06-30 16:17:45.575 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:17:45.578 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.3706ms
2024-06-30 16:17:45.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:17:45.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.833ms
2024-06-30 16:17:45.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:17:45.678 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.4525ms
2024-06-30 16:17:48.274 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:17:48.292 +03:00 [ERR] An unhandled exception occurred: {"StatusCode":500,"Message":"The AuthorizationPolicy named: 'Admin' was not found.","StackTrace":"   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Alisverislio_Task.Middlewares.ExceptionMiddleware.InvokeAsync(HttpContext httpContext)","LogTime":"2024-06-30T13:17:48.2927200Z","$type":"ErrorDetails"}
2024-06-30 16:17:48.295 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 500 null application/json 20.819ms
2024-06-30 16:18:50.857 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:18:50.991 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:18:50.993 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:18:51.015 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:18:51.016 +03:00 [INF] Hosting environment: Development
2024-06-30 16:18:51.018 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:18:51.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:18:51.543 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 135.6348ms
2024-06-30 16:18:51.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:18:51.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:18:51.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.2498ms
2024-06-30 16:18:51.634 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0995ms
2024-06-30 16:18:51.662 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:18:51.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.8252ms
2024-06-30 16:19:07.733 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:19:07.857 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:19:07.858 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:19:07.882 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:19:07.883 +03:00 [INF] Hosting environment: Development
2024-06-30 16:19:07.884 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:19:08.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:19:08.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 138.9439ms
2024-06-30 16:19:08.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:19:08.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:19:08.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.6726ms
2024-06-30 16:19:08.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.6701ms
2024-06-30 16:19:08.786 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:19:08.846 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.0188ms
2024-06-30 16:19:14.627 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:19:14.706 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:19:14.710 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:19:14.718 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 90.8039ms
2024-06-30 16:21:39.729 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:21:39.861 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:21:39.862 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:21:39.885 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:21:39.886 +03:00 [INF] Hosting environment: Development
2024-06-30 16:21:39.887 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:21:40.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:21:40.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.5314ms
2024-06-30 16:21:40.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:21:40.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:21:40.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 10.8279ms
2024-06-30 16:21:40.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7228ms
2024-06-30 16:21:40.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:21:40.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.9735ms
2024-06-30 16:21:44.033 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:21:44.072 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:21:44.074 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:21:44.082 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 49.3156ms
2024-06-30 16:24:10.430 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:24:10.567 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:24:10.568 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:24:10.591 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:24:10.592 +03:00 [INF] Hosting environment: Development
2024-06-30 16:24:10.593 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:24:11.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:24:11.256 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 139.1824ms
2024-06-30 16:24:11.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:24:11.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:24:11.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.4925ms
2024-06-30 16:24:11.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.3581ms
2024-06-30 16:24:11.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:24:11.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.2613ms
2024-06-30 16:24:14.181 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - application/json 91
2024-06-30 16:24:14.219 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:24:14.220 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:24:14.227 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 45.2539ms
2024-06-30 16:24:32.364 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:24:32.369 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:24:32.370 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:24:32.373 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 8.7114ms
2024-06-30 16:25:35.909 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:25:35.916 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-06-30 16:25:35.933 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-06-30 16:25:35.937 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:25:35.941 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 16:25:35.943 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 401 0 null 33.7415ms
2024-06-30 16:26:39.486 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Note - multipart/form-data; boundary=--------------------------856343274909271659944990 8990
2024-06-30 16:26:39.493 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10214: Audience validation failed. Audiences: 'yourIssuer'. Did not match: validationParameters.ValidAudience: 'yourAudience' or validationParameters.ValidAudiences: 'null'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 16:26:39.496 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10214: Audience validation failed. Audiences: 'yourIssuer'. Did not match: validationParameters.ValidAudience: 'yourAudience' or validationParameters.ValidAudiences: 'null'.
2024-06-30 16:26:39.498 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 16:26:39.499 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 16:26:39.499 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Note - 401 0 null 14.0943ms
2024-06-30 16:26:39.502 +03:00 [INF] Connection id "0HN4P0VMNN8V4", Request id "0HN4P0VMNN8V4:00000004": the application completed without reading the entire request body.
2024-06-30 16:26:51.051 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Note - multipart/form-data; boundary=--------------------------084421460585784109538944 8990
2024-06-30 16:26:51.055 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10214: Audience validation failed. Audiences: 'yourIssuer'. Did not match: validationParameters.ValidAudience: 'yourAudience' or validationParameters.ValidAudiences: 'null'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-30 16:26:51.057 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10214: Audience validation failed. Audiences: 'yourIssuer'. Did not match: validationParameters.ValidAudience: 'yourAudience' or validationParameters.ValidAudiences: 'null'.
2024-06-30 16:26:51.058 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-30 16:26:51.059 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-30 16:26:51.060 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Note - 401 0 null 9.1538ms
2024-06-30 16:26:51.063 +03:00 [INF] Connection id "0HN4P0VMNN8V4", Request id "0HN4P0VMNN8V4:00000005": the application completed without reading the entire request body.
2024-06-30 16:26:57.160 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Note - multipart/form-data; boundary=--------------------------536942605988559554586863 8990
2024-06-30 16:26:57.164 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 16:26:57.184 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 16:26:57.389 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-06-30 16:26:57.403 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 214.506ms
2024-06-30 16:26:57.405 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 16:26:57.407 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Note - 415 null application/problem+json; charset=utf-8 246.6479ms
2024-06-30 16:27:17.074 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/Note - multipart/form-data; boundary=--------------------------129262091898432209717984 8990
2024-06-30 16:27:17.077 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 16:27:17.078 +03:00 [INF] Route matched with {action = "AddNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNoteAsync(Alisverislio_Task.BLL.Dtos.NoteDto) on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 16:27:17.086 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-06-30 16:27:17.088 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task) in 8.6911ms
2024-06-30 16:27:17.089 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.AddNoteAsync (Alisverislio_Task)'
2024-06-30 16:27:17.090 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/Note - 415 null application/problem+json; charset=utf-8 15.5562ms
2024-06-30 16:27:38.178 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/book - multipart/form-data; boundary=--------------------------086532472591324673369356 8990
2024-06-30 16:27:38.182 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/book - 404 0 null 4.094ms
2024-06-30 16:27:38.185 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7259/api/book, Response status code: 404
2024-06-30 16:27:38.187 +03:00 [INF] Connection id "0HN4P0VMNN8V4", Request id "0HN4P0VMNN8V4:00000008": the application completed without reading the entire request body.
2024-06-30 16:27:57.510 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/book/add - multipart/form-data; boundary=--------------------------949157612870916401173389 8990
2024-06-30 16:27:57.516 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:27:57.517 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:27:57.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/book/add - 403 0 null 8.1581ms
2024-06-30 16:27:57.519 +03:00 [INF] Connection id "0HN4P0VMNN8V4", Request id "0HN4P0VMNN8V4:00000009": the application completed without reading the entire request body.
2024-06-30 16:28:11.785 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 16:28:11.791 +03:00 [INF] CORS policy execution successful.
2024-06-30 16:28:11.793 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:28:11.798 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:28:12.849 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 16:28:12.929 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 16:28:12.940 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 16:28:12.944 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1144.4614ms
2024-06-30 16:28:12.945 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:28:12.950 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1164.8758ms
2024-06-30 16:28:25.123 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/book/add - multipart/form-data; boundary=--------------------------589692534516576324014947 8990
2024-06-30 16:28:25.126 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:28:25.127 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:28:25.128 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/book/add - 403 0 null 5.0943ms
2024-06-30 16:28:25.131 +03:00 [INF] Connection id "0HN4P0VMNN8V4", Request id "0HN4P0VMNN8V4:0000000A": the application completed without reading the entire request body.
2024-06-30 16:33:24.420 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:33:24.564 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:33:24.566 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:33:24.588 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:33:24.589 +03:00 [INF] Hosting environment: Development
2024-06-30 16:33:24.590 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:33:25.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:33:25.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 137.8942ms
2024-06-30 16:33:25.380 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:33:25.385 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.3578ms
2024-06-30 16:33:25.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:33:25.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7492ms
2024-06-30 16:33:25.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:33:25.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.6737ms
2024-06-30 16:33:28.452 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:33:28.494 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:33:28.497 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:33:28.504 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 51.5171ms
2024-06-30 16:33:55.171 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:33:55.180 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:33:55.181 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:33:55.182 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 11.077ms
2024-06-30 16:34:34.820 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:34:34.823 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:34:34.824 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:34:34.825 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 5.5633ms
2024-06-30 16:34:37.478 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:34:37.481 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:34:37.482 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:34:37.483 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 4.7574ms
2024-06-30 16:38:04.099 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 16:38:04.109 +03:00 [INF] CORS policy execution successful.
2024-06-30 16:38:04.112 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:38:04.132 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:38:05.406 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 16:38:05.475 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 16:38:05.491 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 16:38:05.498 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1359.6597ms
2024-06-30 16:38:05.499 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:38:05.504 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1407.495ms
2024-06-30 16:38:29.549 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/Book/add - multipart/form-data; boundary=----WebKitFormBoundaryYO5BHrmL9sSFRhX8 8983
2024-06-30 16:38:29.556 +03:00 [INF] CORS policy execution successful.
2024-06-30 16:38:29.558 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:38:29.559 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:38:29.560 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/Book/add - 403 0 null 11.828ms
2024-06-30 16:41:09.111 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:41:09.242 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:41:09.243 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:41:09.265 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:41:09.266 +03:00 [INF] Hosting environment: Development
2024-06-30 16:41:09.270 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:41:09.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:41:09.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 136.9788ms
2024-06-30 16:41:09.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:41:09.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:41:09.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.6599ms
2024-06-30 16:41:09.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.6046ms
2024-06-30 16:41:09.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:41:09.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.723ms
2024-06-30 16:41:22.130 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/book/add - multipart/form-data; boundary=--------------------------025019563413152956542616 8990
2024-06-30 16:41:22.191 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:41:22.195 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:41:22.203 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/book/add - 403 0 null 73.2562ms
2024-06-30 16:41:22.210 +03:00 [INF] Connection id "0HN4P1968LKIK", Request id "0HN4P1968LKIK:00000001": the application completed without reading the entire request body.
2024-06-30 16:41:23.657 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/book/add - multipart/form-data; boundary=--------------------------886607435564844279496554 8990
2024-06-30 16:41:23.662 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-30 16:41:23.665 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:41:23.667 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/book/add - 403 0 null 10.2924ms
2024-06-30 16:41:23.671 +03:00 [INF] Connection id "0HN4P1968LKIK", Request id "0HN4P1968LKIK:00000002": the application completed without reading the entire request body.
2024-06-30 16:41:27.185 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:41:27.189 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:41:27.190 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:41:27.191 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 5.733ms
2024-06-30 16:41:38.262 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7259/api/User/login - application/json 46
2024-06-30 16:41:38.269 +03:00 [INF] CORS policy execution successful.
2024-06-30 16:41:38.274 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:41:38.294 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Alisverislio_Task.BLL.Dtos.LoginDto) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:41:39.568 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__loginDto_Username_0
2024-06-30 16:41:39.646 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Name] = @__user_Name_0
2024-06-30 16:41:39.661 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-30 16:41:39.668 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task) in 1366.2809ms
2024-06-30 16:41:39.669 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.Login (Alisverislio_Task)'
2024-06-30 16:41:39.676 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7259/api/User/login - 200 null application/json; charset=utf-8 1413.8256ms
2024-06-30 16:41:49.772 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:41:49.775 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:41:49.776 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:41:49.778 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 5.3531ms
2024-06-30 16:41:54.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/book/add - multipart/form-data; boundary=--------------------------047158546014806851331686 8990
2024-06-30 16:41:54.403 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 16:41:54.410 +03:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBook(Alisverislio_Task.BLL.Dtos.BookDto, Microsoft.AspNetCore.Http.IFormFile) on controller Alisverislio_Task.Controllers.BookController (Alisverislio_Task).
2024-06-30 16:41:54.597 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([Author], [Description], [ISBN], [ImageUrl], [LocationId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-30 16:41:54.620 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.BookDto'.
2024-06-30 16:41:54.624 +03:00 [INF] Executed action Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task) in 208.4929ms
2024-06-30 16:41:54.625 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.BookController.AddBook (Alisverislio_Task)'
2024-06-30 16:41:54.627 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/book/add - 200 null application/json; charset=utf-8 226.0279ms
2024-06-30 16:42:15.597 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7259/api/note/usernotes - null null
2024-06-30 16:42:15.601 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 16:42:15.604 +03:00 [INF] Route matched with {action = "GetUserNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotesAsync() on controller Alisverislio_Task.Controllers.NoteController (Alisverislio_Task).
2024-06-30 16:42:21.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 16:42:21.683 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[BookId], [n].[Content], [n].[UserId], [n].[Visibility]
FROM [Notes] AS [n]
WHERE ([n].[UserId] = @__userId_0 OR [n].[Visibility] = 0) AND ([n].[UserId] = @__userId_1 OR [n].[Visibility] = 0)
2024-06-30 16:42:21.687 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Alisverislio_Task.BLL.Dtos.NoteDto, Alisverislio_Task.BLL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-30 16:42:21.692 +03:00 [INF] Executed action Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task) in 6086.6187ms
2024-06-30 16:42:21.693 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.NoteController.GetUserNotesAsync (Alisverislio_Task)'
2024-06-30 16:42:21.694 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7259/api/note/usernotes - 200 null application/json; charset=utf-8 6096.9624ms
2024-06-30 16:42:35.577 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:42:35.580 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2024-06-30 16:42:35.581 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-30 16:42:35.582 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 403 0 null 4.6213ms
2024-06-30 16:42:47.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:42:47.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 24.129ms
2024-06-30 16:42:47.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:42:47.408 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:42:47.414 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.5337ms
2024-06-30 16:42:47.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7095ms
2024-06-30 16:42:47.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:42:47.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6336ms
2024-06-30 16:42:49.693 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:42:49.700 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateUserRole (Alisverislio_Task)'
2024-06-30 16:42:49.704 +03:00 [INF] Route matched with {action = "UpdateUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRole(Int32, Alisverislio_Task.DAL.Enums.UserRole) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:43:20.307 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:43:20.445 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:43:20.446 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:43:20.468 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:43:20.469 +03:00 [INF] Hosting environment: Development
2024-06-30 16:43:20.470 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:43:21.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:43:21.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 141.4607ms
2024-06-30 16:43:21.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:43:21.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:43:21.315 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 18.5841ms
2024-06-30 16:43:21.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5356ms
2024-06-30 16:43:21.358 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:43:21.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.0822ms
2024-06-30 16:43:22.560 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:43:22.603 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateUserRole (Alisverislio_Task)'
2024-06-30 16:43:22.616 +03:00 [INF] Route matched with {action = "UpdateUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRole(Int32, Alisverislio_Task.DAL.Enums.UserRole) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:45:26.777 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 16:45:26.923 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 16:45:26.924 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 16:45:26.946 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 16:45:26.947 +03:00 [INF] Hosting environment: Development
2024-06-30 16:45:26.948 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 16:45:27.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 16:45:27.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 144.5644ms
2024-06-30 16:45:27.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 16:45:27.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.6626ms
2024-06-30 16:45:27.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 16:45:27.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4513ms
2024-06-30 16:45:27.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 16:45:27.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.7847ms
2024-06-30 16:45:30.659 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - null 0
2024-06-30 16:45:30.700 +03:00 [INF] Executing endpoint 'Alisverislio_Task.Controllers.UserController.UpdateUserRole (Alisverislio_Task)'
2024-06-30 16:45:30.716 +03:00 [INF] Route matched with {action = "UpdateUserRole", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRole(Int32, Alisverislio_Task.DAL.Enums.UserRole) on controller Alisverislio_Task.Controllers.UserController (Alisverislio_Task).
2024-06-30 16:45:37.845 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 16:45:40.939 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Role], [u].[Surname], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-30 16:45:44.290 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Role] = @p3, [Surname] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-06-30 16:45:44.307 +03:00 [INF] Executing OkObjectResult, writing value of type 'Alisverislio_Task.BLL.Dtos.UserDto'.
2024-06-30 16:45:44.316 +03:00 [INF] Executed action Alisverislio_Task.Controllers.UserController.UpdateUserRole (Alisverislio_Task) in 13593.3304ms
2024-06-30 16:45:44.318 +03:00 [INF] Executed endpoint 'Alisverislio_Task.Controllers.UserController.UpdateUserRole (Alisverislio_Task)'
2024-06-30 16:45:44.323 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7259/api/User/updateUserRole?userId=4&newRole=1 - 200 null application/json; charset=utf-8 13663.314ms
2024-06-30 19:30:54.052 +03:00 [INF] User profile is available. Using 'C:\Users\berka\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-30 19:30:54.213 +03:00 [INF] Now listening on: https://localhost:7259
2024-06-30 19:30:54.214 +03:00 [INF] Now listening on: http://localhost:5139
2024-06-30 19:30:54.235 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-30 19:30:54.236 +03:00 [INF] Hosting environment: Development
2024-06-30 19:30:54.237 +03:00 [INF] Content root path: C:\Users\berka\Desktop\Alisverislio_Task\Alisverislio_Task
2024-06-30 19:30:54.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/index.html - null null
2024-06-30 19:30:54.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/index.html - 200 null text/html;charset=utf-8 159.4587ms
2024-06-30 19:30:54.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - null null
2024-06-30 19:30:54.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.9018ms
2024-06-30 19:30:54.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/_vs/browserLink - null null
2024-06-30 19:30:54.913 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7495ms
2024-06-30 19:30:54.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - null null
2024-06-30 19:30:55.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7259/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.5672ms
